<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="在这里放一些欧拉计划的心得体会(我不会放答案的,可以放心阅读)… 欧拉计划是鼓励大家网上搜索除了答案之外的知识的. 欧拉计划使用 CC-BY-NC-SA 4.0 协议,所以这篇文档也是这个协议写成的. 欧拉计划网址 板子 简易文件解析(欧拉计划 Project Euler) 形如 1&quot;AAA&quot;,&quot;BBB&quot;,&quot;CCC&quot;,&quot;DDD&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="欧拉计划">
<meta property="og:url" content="https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/index.html">
<meta property="og:site_name" content="Fluorine&#39;s blog">
<meta property="og:description" content="在这里放一些欧拉计划的心得体会(我不会放答案的,可以放心阅读)… 欧拉计划是鼓励大家网上搜索除了答案之外的知识的. 欧拉计划使用 CC-BY-NC-SA 4.0 协议,所以这篇文档也是这个协议写成的. 欧拉计划网址 板子 简易文件解析(欧拉计划 Project Euler) 形如 1&quot;AAA&quot;,&quot;BBB&quot;,&quot;CCC&quot;,&quot;DDD&amp;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-11-11T12:24:34.000Z">
<meta property="article:modified_time" content="2025-10-12T18:26:53.975Z">
<meta property="article:author" content="Fluorine Wengers">
<meta property="article:tag" content="Math">
<meta property="article:tag" content="Algorithm">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>欧拉计划</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="Fluorine's blog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     --><!--
       --><li><a href="/friends/">友链</a></li><!--
     --><!--
       --><li><a href="/QSL/">QSL</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/2024/11/28/10030_2-SAT/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2024/11/11/40000_%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&text=欧拉计划"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&is_video=false&description=欧拉计划"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=欧拉计划&body=Check out this article: https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&name=欧拉计划&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&t=欧拉计划"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%BF%E5%AD%90"><span class="toc-number">1.</span> <span class="toc-text">板子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E6%98%93%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90-%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92-Project-Euler"><span class="toc-number">1.1.</span> <span class="toc-text">简易文件解析(欧拉计划 Project Euler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E4%B9%89%E4%BA%94%E8%BE%B9%E5%BD%A2%E6%95%B0-%E8%B4%9F%E6%95%B0%E4%B9%9F%E4%BC%9A%E5%8F%96%E5%88%B0"><span class="toc-number">1.2.</span> <span class="toc-text">广义五边形数(负数也会取到)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0050"><span class="toc-number">2.</span> <span class="toc-text">0050</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0061"><span class="toc-number">3.</span> <span class="toc-text">0061</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0066"><span class="toc-number">4.</span> <span class="toc-text">0066</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0078"><span class="toc-number">5.</span> <span class="toc-text">0078</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0084"><span class="toc-number">6.</span> <span class="toc-text">0084</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0088"><span class="toc-number">7.</span> <span class="toc-text">0088</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0093"><span class="toc-number">8.</span> <span class="toc-text">0093</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0094"><span class="toc-number">9.</span> <span class="toc-text">0094</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0103"><span class="toc-number">10.</span> <span class="toc-text">0103</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0106"><span class="toc-number">11.</span> <span class="toc-text">0106</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0110"><span class="toc-number">12.</span> <span class="toc-text">0110</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0118"><span class="toc-number">13.</span> <span class="toc-text">0118</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0119"><span class="toc-number">14.</span> <span class="toc-text">0119</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0122"><span class="toc-number">15.</span> <span class="toc-text">0122</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0126"><span class="toc-number">16.</span> <span class="toc-text">0126</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0127"><span class="toc-number">17.</span> <span class="toc-text">0127</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0129"><span class="toc-number">18.</span> <span class="toc-text">0129</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0131"><span class="toc-number">19.</span> <span class="toc-text">0131</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0267"><span class="toc-number">20.</span> <span class="toc-text">0267</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0277"><span class="toc-number">21.</span> <span class="toc-text">0277</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0303"><span class="toc-number">22.</span> <span class="toc-text">0303</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0313"><span class="toc-number">23.</span> <span class="toc-text">0313</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0317"><span class="toc-number">24.</span> <span class="toc-text">0317</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0323"><span class="toc-number">25.</span> <span class="toc-text">0323</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0336"><span class="toc-number">26.</span> <span class="toc-text">0336</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0340"><span class="toc-number">27.</span> <span class="toc-text">0340</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0345"><span class="toc-number">28.</span> <span class="toc-text">0345</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0358"><span class="toc-number">29.</span> <span class="toc-text">0358</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0425"><span class="toc-number">30.</span> <span class="toc-text">0425</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0429"><span class="toc-number">31.</span> <span class="toc-text">0429</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0443"><span class="toc-number">32.</span> <span class="toc-text">0443</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0491"><span class="toc-number">33.</span> <span class="toc-text">0491</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0493"><span class="toc-number">34.</span> <span class="toc-text">0493</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0500"><span class="toc-number">35.</span> <span class="toc-text">0500</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0510"><span class="toc-number">36.</span> <span class="toc-text">0510</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0516"><span class="toc-number">37.</span> <span class="toc-text">0516</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0518"><span class="toc-number">38.</span> <span class="toc-text">0518</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0555"><span class="toc-number">39.</span> <span class="toc-text">0555</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0577"><span class="toc-number">40.</span> <span class="toc-text">0577</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0581"><span class="toc-number">41.</span> <span class="toc-text">0581</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0601"><span class="toc-number">42.</span> <span class="toc-text">0601</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0609"><span class="toc-number">43.</span> <span class="toc-text">0609</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0607"><span class="toc-number">44.</span> <span class="toc-text">0607</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0613"><span class="toc-number">45.</span> <span class="toc-text">0613</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0622"><span class="toc-number">46.</span> <span class="toc-text">0622</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0630"><span class="toc-number">47.</span> <span class="toc-text">0630</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0679"><span class="toc-number">48.</span> <span class="toc-text">0679</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0684"><span class="toc-number">49.</span> <span class="toc-text">0684</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0692"><span class="toc-number">50.</span> <span class="toc-text">0692</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0694"><span class="toc-number">51.</span> <span class="toc-text">0694</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0700"><span class="toc-number">52.</span> <span class="toc-text">0700</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0709"><span class="toc-number">53.</span> <span class="toc-text">0709</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0725"><span class="toc-number">54.</span> <span class="toc-text">0725</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0731"><span class="toc-number">55.</span> <span class="toc-text">0731</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0749"><span class="toc-number">56.</span> <span class="toc-text">0749</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0754"><span class="toc-number">57.</span> <span class="toc-text">0754</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0755"><span class="toc-number">58.</span> <span class="toc-text">0755</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0757"><span class="toc-number">59.</span> <span class="toc-text">0757</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0772"><span class="toc-number">60.</span> <span class="toc-text">0772</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0793"><span class="toc-number">61.</span> <span class="toc-text">0793</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0816"><span class="toc-number">62.</span> <span class="toc-text">0816</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0820"><span class="toc-number">63.</span> <span class="toc-text">0820</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0822"><span class="toc-number">64.</span> <span class="toc-text">0822</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0828"><span class="toc-number">65.</span> <span class="toc-text">0828</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0836"><span class="toc-number">66.</span> <span class="toc-text">0836</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0853"><span class="toc-number">67.</span> <span class="toc-text">0853</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0862"><span class="toc-number">68.</span> <span class="toc-text">0862</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0869"><span class="toc-number">69.</span> <span class="toc-text">0869</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0874"><span class="toc-number">70.</span> <span class="toc-text">0874</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0885"><span class="toc-number">71.</span> <span class="toc-text">0885</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0899"><span class="toc-number">72.</span> <span class="toc-text">0899</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0926"><span class="toc-number">73.</span> <span class="toc-text">0926</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text">隐藏题目(Bonus)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-1"><span class="toc-number">1.</span> <span class="toc-text">problem -1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler"><span class="toc-number">1.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-18i"><span class="toc-number">2.</span> <span class="toc-text">problem 18i</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-2"><span class="toc-number">2.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-Heegner"><span class="toc-number">3.</span> <span class="toc-text">problem Heegner</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-3"><span class="toc-number">3.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-root13"><span class="toc-number">4.</span> <span class="toc-text">problem root13</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-4"><span class="toc-number">4.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-secret"><span class="toc-number">5.</span> <span class="toc-text">problem secret</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-5"><span class="toc-number">5.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        欧拉计划
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Fluorine Wengers</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-11-11T12:24:34.000Z" class="dt-published" itemprop="datePublished">2024-11-11</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/GAME/">GAME</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Algorithm/" rel="tag">Algorithm</a>, <a class="p-category" href="/tags/Math/" rel="tag">Math</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>在这里放一些欧拉计划的心得体会(我不会放答案的,可以放心阅读)…</p>
<p>欧拉计划是鼓励大家网上搜索除了答案之外的知识的.</p>
<p>欧拉计划使用 <code>CC-BY-NC-SA 4.0</code> 协议,所以这篇文档也是这个协议写成的.<br>
<a target="_blank" rel="noopener" href="https://projecteuler.net">欧拉计划网址</a></p>
<h2 id="板子">板子</h2>
<h3 id="简易文件解析-欧拉计划-Project-Euler">简易文件解析(欧拉计划 Project Euler)</h3>
<p>形如</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;AAA&quot;</span>,<span class="string">&quot;BBB&quot;</span>,<span class="string">&quot;CCC&quot;</span>,<span class="string">&quot;DDD&quot;</span></span><br></pre></td></tr></table></figure>
<p>的文件,在此代码的解析下会变成</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AAA</span><br><span class="line">BBB</span><br><span class="line">CCC</span><br><span class="line">DDD</span><br></pre></td></tr></table></figure>
<p>代码如下:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pair&lt;<span class="type">int</span>,vector&lt;string&gt; &gt;<span class="built_in">eulerDecode</span>()&#123;</span><br><span class="line">	<span class="built_in">freopen</span>(<span class="string">&quot;words.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);<span class="comment">/*给定文件名称*/</span></span><br><span class="line">	pair&lt;<span class="type">int</span>,vector&lt;string&gt; &gt;res;<span class="comment">/*文件格式必须是 &quot;a&quot;,&quot;b&quot;,&quot;c&quot; 这样的格式,会解析出abc三个字符串 &quot;*/</span></span><br><span class="line">	res.second.<span class="built_in">resize</span>(<span class="number">3000</span>);</span><br><span class="line">	<span class="type">char</span> ch=<span class="built_in">getchar</span>(),ff=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(ch!=EOF)&#123;</span><br><span class="line">		<span class="keyword">if</span>(ch==<span class="string">&#x27;&quot;&#x27;</span>)&#123;</span><br><span class="line">			ff^=<span class="number">1</span>;</span><br><span class="line">			<span class="comment">// res.second.push_back(&quot;&quot;);</span></span><br><span class="line">			<span class="keyword">if</span>(ff==<span class="number">0</span>)&#123;</span><br><span class="line">				res.first++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(ff==<span class="number">1</span>)res.second[res.first]+=ch;</span><br><span class="line">		&#125;</span><br><span class="line">		ch=<span class="built_in">getchar</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="广义五边形数-负数也会取到">广义五边形数(负数也会取到)</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">pentagonal</span><span class="params">(<span class="type">long</span> <span class="type">long</span> num)</span></span>&#123;</span><br><span class="line">	num=(num&amp;<span class="number">1</span>^<span class="number">1</span>)?-(num&gt;&gt;<span class="number">1</span>):(num+<span class="number">1</span>)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> (num*(num*<span class="number">3</span><span class="number">-1</span>))&gt;&gt;<span class="number">1</span>;</span><br><span class="line">&#125;<span class="comment">//生成一个0,1,2,5,7,12,15,22,26,35,40的五边形数列</span></span><br></pre></td></tr></table></figure>
<h2 id="0050">0050</h2>
<p>求1e6以内的哪个质数可以写成连续质数的和.</p>
<p>连续质数考虑前缀和.我们枚举两端然后检查质数.这里有一个小剪枝是,如果质数大于1e6直接跳出来递增的那个端点,能让程序快几十倍.</p>
<h2 id="0061">0061</h2>
<p><a target="_blank" rel="noopener" href="https://pe-cn.github.io/61/">题干</a></p>
<p>首先预处理所有的n变形数,发现直接枚举是2.3e10的必超时,因为没有利用循环的性质.</p>
<p>使用图论降低复杂度.想象前半部分和后半部分有一条边,然后图论dfs一遍即可.<br>
会出好几个结果,是因为图上是循环的…</p>
<h2 id="0066">0066</h2>
<p>解一个二元二次丢番图方程,使用pell方程的解法,把根号转成连分式找环然后合并求解.</p>
<p>现在考虑支持高精度的怎么写,发现只需要支持加和乘就好了,问题解决…</p>
<h2 id="0078">0078</h2>
<p>整数划分:把一个整数表示成若干别的数字的加和形式.</p>
<p>使用dp可以让复杂度压成 $n^2$ ,还不够.</p>
<p>上网查阅结论得知,划分数 $p(n)$ 有以下性质:<br>
$$p(k)=p(k-1)+p(k-2)-p(k-5)-p(k-7)+p(k-12)+p(k-15)-p(k-22)-+±-…$$<br>
其中p(0)认为是1,负的认为是0.</p>
<p>其中这个减掉的数列叫做 <strong>五边形数</strong> ,满足通项公式(注意这个通项是正负交替的, $0,1,-1,2,-2,…$ )<br>
$$a_n=n(3n-1)/2,n\in{0,\pm1,\pm2,\pm3,…}$$<br>
然后求能被1000000整除的那一项就可以计算了,注意对1000000取模就不会炸int(为啥傻傻的用py) <s>(但是多用用py确实能增进熟练度,比方说开一个二维数组之类的能少踩坑)</s></p>
<h2 id="0084">0084</h2>
<p>给一个大富翁(非常非常复杂的规则)然后求哪三个点的落点概率最高.</p>
<p>使用1e8次模拟即可,计算机最擅长随机数模拟.</p>
<h2 id="0088">0088</h2>
<p>长度为n的集合,满足所有元素的和等于所有元素的积,求对于长度为2-12000的集合,最小的这样的积和数组成的集合的和(即相同积和数只算一次)</p>
<p>这是一道40%的题,卡了Flu一个寒假…</p>
<p>观察样例,发现有个通解是 ${1,1,1,1,…,2,k}$ ,所以答案上界呼之欲出,就是24000.</p>
<p>但是发现有例外:<br>
$$k=5,{1,1,2,2,2}$$<br>
于是考虑对每个数暴力分解,然后求出这个数可能匹配上哪个长度,单个的复杂度是 $O(\sqrt n)$ 的.</p>
<p>但是所有数字一起分解就会省不少事,我们使用dfs,记录当前深度,乘积,加和,然后在dfs中进行分解.同时为了避免出现 $6=3\times2=2\times3$ 的情况,额外记录一个num表示上一个因数,保证因数单调,也就是每个分解最多出现1次,然后更新答案即可,复杂度如下,Flu不知道是多少,反正实际上跑的飞快(可能是数据太小了).<br>
$$O(\sum_{i=1}^{12000}(2+d(i)))$$<br>
d(i)是i的因数个数</p>
<p>时间也是做题的法宝…</p>
<h2 id="0093">0093</h2>
<p>注意炸精度…除的数字再乘回去c艹会默认下取整然后WA了…</p>
<h2 id="0094">0094</h2>
<p>难点在于快速判断一个开根号的数字是不是整数.</p>
<p>对开根号的结果平方之后再跟自己比较,可以直接i64比较,避免炸精度</p>
<h2 id="0103">0103</h2>
<p>发现生成出来的&quot;特殊集合&quot;可能不是最优解,但是很接近最优解.<br>
于是取一个lim在其附近暴搜正确答案,实际上lim取1就能出来,复杂度 $O(3^7\alpha)$ , $\alpha$ 是检查的一个小常数,大概是五百.</p>
<h2 id="0106">0106</h2>
<p>非常妙的组合数学题.题干:有一个单调递增的数列,你要从中选两个不重的集合,然后对其进行两种检查:1:如果两个集合元素数量不一样,则元素更多的集合一定更大.2:两个集合元素和不重复.你要先对这些集合进行检查1,而且不必要不进行检查2,求对大小12的数列有多少个集合需要进行检查2.</p>
<p>已知长度为4的数列有25种集合选法,其中只有1个需要进行检查2,长度为7的数列有70个集合需要进行检查2.</p>
<p>首先,检查1的本质是找出所有两个集合大小相同的选法.<br>
对于一个共同的size,考虑什么时候不需要检查2:假设元素为 <code>1212</code> ,显然集合1小于集合2,不需要检查.相似地, <code>1122</code> 同理,这是一个走楼梯问题,只能往下或者往右走,同时不能超过对角线,问有多少种情况.这是卡特兰数典题.</p>
<p>所以答案就是<br>
$$\binom{n}{2}Cat_1+\binom{n}{4}Cat_2+…$$</p>
<h2 id="0110">0110</h2>
<p>解方程…<br>
$$\frac1x+\frac1y=\frac1n$$<br>
因为xyn都是整数,所以显然xy都大于n.<br>
设y=n+k,带入求出x的方程<br>
$$x=n+\frac{n^2}{k}$$<br>
于是答案就是 $d(n^2)-1$ ,具体地,我们对n进行质因数分解,设当前质数为p,次方为q,对总共答案的贡献是 $2q+1$ ,所有解就是把贡献乘起来,然后除二加一(因为xy可以交换,+1是把xy相同的解加上),由于这个题要求解大于一个数,我们暴搜每个质数的次方,逆着算出来即可.</p>
<h2 id="0118">0118</h2>
<p>用1-9组数字,问有多少个全是质数的集合.</p>
<p>显然是枚举数字位置和每位是数字相连还是开一个新数字.</p>
<p>然后哈希不知道为啥碰撞了,寄…</p>
<p>下面是两种不同的哈希方式,区别只是快速幂那里换了点位置,然而后者不知道为啥会撞哈希(虽然都是质数),而前者能够通过.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=top;++i)&#123;</span><br><span class="line">	res=(res+<span class="built_in">qp</span>(ttmp[i],(i64)<span class="number">7</span>,<span class="number">998244353</span>))%<span class="number">1000000007</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=top;++i)&#123;</span><br><span class="line">	res=(res+<span class="built_in">qp</span>((i64)<span class="number">7</span>,ttmp[i],<span class="number">998244353</span>))%<span class="number">1000000007</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0119">0119</h2>
<p>某个数满足其各位和的某次方等于这个数,首先暴力检查是nlog,跑一下发现比较稀疏,换方法,使用log以及把各位和的函数优化成o1,结果除了炸精度之外跑的更慢了…所以 <code>log()</code> 函数的复杂度当成log.</p>
<p>发现似乎可以枚举次方的底数,然后对其次方暴力检查,而且取一个1e23的lim可以很快得到底数最大是 $9<em>23$ ,于是 $nlog^2n$ ,n是 $9</em>23$ 得解.</p>
<h2 id="0122">0122</h2>
<p>加法链,不知道咋算可以<a target="_blank" rel="noopener" href="https://oeis.org/A003313">OEIS</a>一下看看剪枝.<br>
实际暴搜的时候用vector记录整个加法链,然后暴力枚举每个链和当前值合并,然后dfs即可,跑的飞快,因为上界(快速幂法)是确定的log级别.</p>
<h2 id="0126">0126</h2>
<p>空间的堆叠有点难,我们只看一个平面.设 $dp(n,m,a)$ 表示一个nm的矩形向外拓展a层得到的所有正方形,得到 $dp(n,m,a)=nm+2a(n+m+a-1)$ .<br>
然后发现长方体的 $n\times m\times s$ 中s的作用就是单纯堆叠这个dp.<br>
然后竖着看,每次往外拓展一层,然后这个再往外拓展…<br>
所以一个 $nms$ 的长方体向外拓展 $a$ 层,得到的所有正方体就有:<br>
$$ddp(n,m,s,a)=(s\times dp(n,m,a))+2dp(n,m,a-1)+2dp(n,m,a-2)+…+2dp(n,m,0)$$<br>
由于我们得到的是所有的正方体,做差得到一次堆叠:<br>
$$f(n,m,s,a)=sdp(n,m,s,a)+(2-s)dp(n,m,s,a-1)$$<br>
然后开始找最大值,取一个上界,然后在这个上界里面进行计算(题干描述的有点不清楚:必须是独特的长方形才可以,如 $3\times 2\times 1$ 和 $3\times 1\times 2$ 被认成是一种,枚举的时候注意要递增)</p>
<h2 id="0127">0127</h2>
<p>Flu的做法是先筛选出质数,然后枚举c的组合,然后枚举a,麻烦的一批结果因为没去重最后还WA了.</p>
<p>网上查发现应该先算 <code>rad</code> ,然后枚举c,对这个c枚举互质的rad(a),然后判断b合不合适…</p>
<h2 id="0129">0129</h2>
<p>这个题过于水了,难度绝对没有 $45%$ .问 $A(i)=111111…\equiv0\mod x$ 求最小的i大于1e6的最小x.</p>
<p>首先对于一个剩余系,最大环就是本身,所以i大于1e6则x必须大于1e6.然后从1e6开始暴搜就行,非常简单,跑的飞快.</p>
<h2 id="0131">0131</h2>
<p>实在想不出来了看<a target="_blank" rel="noopener" href="https://www.ivl-projecteuler.com/overview-of-problems/40-difficulty/problem-131">题解</a>做的…<br>
题解说首先证明 $n,n+p$ 都是完全平方数.<br>
然后证明 $n+p$ 是 $n$ 的下一个完全平方数,然后做差得到了一个数列: $p=(a+1)^3-a^3$ 直接检查即可.</p>
<h2 id="0267">0267</h2>
<p>你开始有一块钱,你每轮把 $f$ 倍率的钱拿去下注,每次翻硬币正面朝上可以获得这么多钱,反面朝上就失去这么多钱.1e3轮之后你的钱有概率突破1e9,问选取最合适的 $f$ 使概率最大,你有多大概率超过1e9.</p>
<p>首先把加法化成乘法:正反面朝上分别会获得 $(1+2f),(1-f)$ .所以丢N次硬币假设正面次数为n,有<br>
$$W(n)=(1+2f)^{n}(1-f)^{N-n}$$<br>
显然这个函数是单调的,直观理解为赢的次数越多钱越多.那么必定存在一个最小的 $n$ 值 $n_0$ 满足 $W(n)\ge M$ ,列式子如下:<br>
$$n\ge\frac{\log M-N\log(1-f)}{\log(1+2f)-\log(1-f)}$$<br>
我们要求右边函数的最小值,使用 <code>scipy.optimize</code> 的 <code>fminbound</code> 解决,得到 $n_0=\lceil h(x_0)\rceil$ .</p>
<p>剩下的就简单了,答案是 $\frac{\sum_{i=n_0}^N\binom{N}{i}}{2^N}$</p>
<h2 id="0277">0277</h2>
<p>你发现,这玩意应该和数字加几位是3的倍数有关系,所以我们考虑枚举.<br>
但是一味枚举肯定超时,我们不妨这么调参:<br>
每一次筛出来满足前几位的数字,然后得到第一个数字和公差,然后我们枚举这个等差数列,因为这个等差数列必定满足前几位,所以我们提高这个&quot;前几位&quot;得到更精细的等差数列,最终把整个数列搞出来.</p>
<p>这个办法很无脑,应该能从解中国剩余定理的角度直接算出来一个式子,然后得到所有数字,不过笔者很懒,就这样吧,能过就行.</p>
<h2 id="0303">0303</h2>
<p>想不出来,最后看题解了(怯战蜥蜴)…</p>
<p>题解说,我们找到一个最小的满足条件的n的倍数,本质上是找到一个最小的 <strong>模n为0的数</strong> .<br>
所以我们用广搜方式,每次枚举一个数字观察是否在模意义下出现过,然后对其拓展即可,由于记录模意义,单次复杂度 $O(n)$ .</p>
<h2 id="0313">0313</h2>
<p>肯定先找规律,显然最后的空格在哪里不是我们关心的,所以f(n,m)具有对称性,我们采取手模的方式:</p>
<table>
<thead>
<tr>
<th>f(n,m)</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>5</td>
<td>9</td>
<td>15</td>
<td>21</td>
</tr>
<tr>
<td>3</td>
<td></td>
<td>13</td>
<td>17</td>
<td>23</td>
</tr>
<tr>
<td>4</td>
<td></td>
<td></td>
<td>21</td>
<td>25</td>
</tr>
<tr>
<td>5</td>
<td></td>
<td></td>
<td></td>
<td>29</td>
</tr>
</tbody>
</table>
<p>发现斜角是+8,斜角第一直出是+4,之后都是+6.我们要在表内寻找 $p^2$ ,因为斜角增长是8,所以整张表会接近 $\frac{p^2_m}8$ ,Flu计算所有质数平方模6的后缀和,也就是说一个数字匹配上了之后整个剩余系中余数相同的也能匹配上,所以双指针l是斜角,r是质数,复杂度 $O(\frac{1e12}8)$ ,实际上跑了三分钟左右,还挺快.</p>
<p>论坛里说直接把整个式子算出来(m&gt;n有f(m,n)=8m+2n-13)然后对每个质数算贡献也行.</p>
<h2 id="0317">0317</h2>
<p>空间上有一个点,能够向任意方向发射速度相同的质点,质点只受重力作用,问所有轨迹形成的图形的体积是多少.</p>
<p>物理题.结论就是,这个包络面是一个抛物面,且相似于直抛,代数得到最高点坐标之后直接算积分就可以了.</p>
<h2 id="0323">0323</h2>
<p>很奇怪的概率题.网上的解法:<br>
$$P(1个比特从0翻到1)=\frac12$$<br>
$$P(1个比特在N轮后还是0)=(\frac12)^n$$<br>
$$P(1个比特在N轮后翻到1)=1-(\frac12)^N$$<br>
$$P(N轮后所有比特都是1)=(1-(\frac12)^N)^{32}$$<br>
$$P(在第N轮所有比特正好翻到1)=(1-(\frac12)^N)^{32}-(1-(\frac12)^{N-1})^{32}$$<br>
$$E=\sum_{i=1}^{\infty}i((1-(\frac12)^i)^{32}-(1-(\frac12)^{i-1})^{32})$$</p>
<h2 id="0336">0336</h2>
<p>观察到两次交换的规律是 $swap(AB)=B\overline A$ ,其中AB可以是任意串.<br>
有一个特殊情况是B只有一个字符,这个时候就可以直接旋转到前面,代价是1.</p>
<p>11!大概是3.9e7,直接暴搜即可,笔者跑了14s.</p>
<h2 id="0340">0340</h2>
<p>和0555类似的函数构造.<br>
$$f(n)=\begin{cases}<br>
n-a&amp;n&gt;b\\<br>
f(a+f(a+f(a+f(a+n))))&amp;n\le b\end{cases}$$<br>
错误!!!这年头直接用py画图了,谁还打表啊…直接用py画图找规律即可.</p>
<h2 id="0345">0345</h2>
<p>给一个15*15方阵,每行每列选一个元素(元素不能同行不能同列),求最大和.</p>
<p>Flu乱搞过去的…对每行记录一个唯一编号表示选该行第几列的数字,然后每次随机俩数字交换,如果更大保留,更小就丢解换回去,重复500次即可…<br>
这能草过去我是没想到的…</p>
<p>论坛里说状压dp,记录二进制表示哪行有数字了,于是直接dp即可…唐完了.</p>
<h2 id="0358">0358</h2>
<p>抄的<a target="_blank" rel="noopener" href="https://ujimatsu-chiya.github.io/QUESTION/Project-Euler-358/">大佬博客</a>,还是太权威了…</p>
<p>因为循环节在b下长度为 $p-1$ ,所以b是群 $\mathbb{Z}_p^*$ 的原根.<br>
然后给了一堆计算数位的代码,最关键的是这个找原根的代码写的很有意思,推荐看看.</p>
<h2 id="0425">0425</h2>
<p>两个正整数A和B被称为相连的（用”A ↔ B”表示）如果以下条件之一成立：<br>
（1）A和B的位数相同，且只有一位数字不同，例如123 ↔ 173。<br>
（2）在A（或B）的左侧加一位数字即得到B（或A），例如23 ↔ 223和123 ↔ 23。<br>
我们称素数P是2的亲戚，如果能用相连的素数组成的链连接2和P，且 <strong>这些素数都不超过P</strong> 。</p>
<p>后面一个条件非常有意思,能用dijkstra过,但是笔者找答案找到了一个更巧妙的做法:<a target="_blank" rel="noopener" href="https://ujimatsu-chiya.github.io/QUESTION/Project-Euler-425/">并查集</a>.<br>
做法是枚举每一个质数对&quot;比这个数小的数&quot;连边,也就是只产生比这个数小的所有质数.<br>
然后假如当前质数连不上边,立刻加到答案里(因为之后会产生向上的边,所以当前就必须加到答案里),只需要用并查集就可以了,十分巧妙的做法.</p>
<h2 id="0429">0429</h2>
<p>首先,题干的元因数就是分解之后 $p_i^{e_i}$ 这个要么不选要么都选上,所以答案就是<br>
$$\prod_{i=1}^n(p_i^{2e_i}+1)$$<br>
然后考虑 $p_i$ 在 $n!$ 中出现多少次:<br>
$$f(n,p)=\left\lfloor\frac np\right\rfloor+\left\lfloor\frac n{p^2}\right\rfloor+\left\lfloor\frac n{p^3}\right\rfloor+…$$<br>
这表示 $p,p^2,p^3,…$ 对阶乘的贡献.</p>
<h2 id="0443">0443</h2>
<p>结论假了…</p>
<p>Flu:观察到f(x)不会大于3*x(Flu并不会证明).<br>
然后考虑取等的情况,发现是有规律的:对所有取等的地方做差,得到一个最大数和很多小数,发现最大数数列之间的关系是最大数乘2加上一堆小数,而且1e6以内的小数大小不会超过1e5.于是可以通过倍增的方法求出最靠近1e15的取等的数字,剩下的暴算过去.<br>
然而,因为这个最大数数列是倍增的,最靠近1e15的是8e14,意味着Flu只是把1e15的nlog优化成1.2e14的nlog,还是T飞…</p>
<p>查阅网上的题解说是:发现 $\gcd$ 不等于1的实际上很少,于是对一个 ${i,g}$ 考虑下一个gcd不等于1的设为 ${i+k,pre(g+k-1)}$ ,中间的gcd都是1.我们有 $\gcd(g+k-1,i+k)&gt;1$ ,根据gcd性质相减有 $\gcd(g-i-1,i+k)&gt;1$ 然后发现前面是常数,于是质因数分解之后对k求最小值,跳转过去即可,复杂度未知总之是能过.</p>
<h2 id="0491">0491</h2>
<p>一道不难但是很坑的题…<br>
有00112233445566778899这20个数字,你要组成没有前导零的数,问有多少个数满足被11整除.<br>
网上查阅资料得知偶数位和与奇数位和做差的值模11结果为0就可以,所以我们考虑爆搜所有奇数偶数的排列,然后组合在一起枚举情况.注意不能有前导零…<br>
时间复杂度 $O(2^{20})$<br>
因为少算情况WA好几发的Flu是屑…<br>
exp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">u128 fac[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> st[<span class="number">21</span>];</span><br><span class="line">bitset&lt;21&gt; vis;</span><br><span class="line"></span><br><span class="line">vector&lt;bitset&lt;21&gt;&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> cl,<span class="type">int</span> cr)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(num&gt;<span class="number">20</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">abs</span>(l-r)%<span class="number">11</span>==<span class="number">0</span>&amp;&amp;cl==cr&amp;&amp;cl==<span class="number">10</span>)&#123;</span><br><span class="line">			a.<span class="built_in">push_back</span>(vis);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">dfs</span>(num+<span class="number">1</span>,l+st[num],r,cl+<span class="number">1</span>,cr);</span><br><span class="line">	vis[num]=<span class="number">1</span>;</span><br><span class="line">	<span class="built_in">dfs</span>(num+<span class="number">1</span>,l,r+st[num],cl,cr+<span class="number">1</span>);</span><br><span class="line">	vis[num]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">i128 n,m,res,ar0,ar1,ar2;</span><br><span class="line"></span><br><span class="line">array&lt;<span class="type">char</span>,10&gt;ty;</span><br><span class="line">map&lt;array&lt;<span class="type">char</span>,10&gt;,i128&gt;mp;</span><br><span class="line"></span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fac[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">30</span>;++i)fac[i]=fac[i<span class="number">-1</span>]*i;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">20</span>;++i)&#123;</span><br><span class="line">		st[i]=(i<span class="number">-1</span>)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	ar2=fac[<span class="number">10</span>]*(<span class="number">72</span>)*fac[<span class="number">8</span>];</span><br><span class="line">	ar1=fac[<span class="number">10</span>]*fac[<span class="number">9</span>]*<span class="number">9</span>;</span><br><span class="line">	ar0=fac[<span class="number">10</span>]*fac[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i:a)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">9</span>;++j)&#123;</span><br><span class="line">			ty[j]=<span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">20</span>;++j)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i[j]==<span class="number">1</span>)&#123;</span><br><span class="line">				ty[st[j]]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(i[<span class="number">1</span>]==<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i[<span class="number">2</span>]==<span class="number">0</span>)&#123;<span class="comment">//偶数位两个0</span></span><br><span class="line">				mp[ty]=ar2;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;<span class="comment">//偶数位一个0</span></span><br><span class="line">				mp[ty]=ar1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(i[<span class="number">2</span>]==<span class="number">0</span>)&#123;<span class="comment">//偶数位一个0</span></span><br><span class="line">				mp[ty]=ar1;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;<span class="comment">//偶数位没有0</span></span><br><span class="line">				mp[ty]=ar0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i:mp)&#123;</span><br><span class="line">		cnt++;</span><br><span class="line">		i128 tmp=i.second;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">9</span>;++j)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i.first[j]==<span class="number">0</span>||i.first[j]==<span class="number">2</span>)&#123;</span><br><span class="line">				tmp&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		res+=tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;res;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0493">0493</h2>
<p>有七种颜色的球,每种10个,你要不放回拿20个,求期望颜色种类数,保留9位小数.</p>
<p>没想到Flu组合数学知识从这里发家…一个很简单的思路:首先,颜色对抽取本身没有影响.对每一种颜色,计算其出现的概率:(总概率-删掉这种颜色的随便抽的概率)<br>
$$1-\frac{\binom{60}{20}}{\binom{70}{20}}$$<br>
然后因为颜色都是一样的,所以上式乘7,秒了…<br>
看来Flu真的有必要学一下组合数学了,</p>
<h2 id="0500">0500</h2>
<p>求最小的有 $2^{500500}$ 个因子的数字,对500500503取模.</p>
<p>根据因数分解定理,把大数拆成很多小的质数,最后因子数就是这些质数次方+1的乘积.<br>
注意到这个因子只是2的倍数,意味着质数有且只有2^n这一种情况,所以每个质数转移只有一种代价,那就是从2^x转移到2^{x+1},于是线筛1e7得到质数之后贪心选取后面的大质数扔到前面即可.</p>
<h2 id="0510">0510</h2>
<p>三个圆两两相切(切点不一样),三个圆同时和一条直线相切,问有多少组解.</p>
<p>根据笛卡尔定理,有:<br>
$$\frac1{\sqrt{r_A}}+\frac1{\sqrt{r_B}}=\frac1{\sqrt{r_C}}$$<br>
改写一下:<br>
$$r_C=\frac{r_Ar_B}{r_A+r_B+2\sqrt{r_Ar_B}}$$<br>
所以如果 $r_C$ 是一个有理数则 $r_Ar_B$ 必须是平方数.<br>
设 $r_A=ta^2,r_B=tb^2,a\le b,\gcd(a,b)=1,t&gt;0$ ,所以我们有三元组<br>
$$\left(ta^2,tb^2,\frac{ta^2b^2}{(a+b)^2}\right)$$<br>
可以得到 $(a+b)^2|t$ .<br>
那么重新令 $r_A=dp^2(p+q)^2,r_B=dq^2(p+q)^2,r_C=dp^2q^2$ ,这就是一对解,枚举互质的 $(p,q)$ ,然后枚举 $d$ 即可.</p>
<blockquote>
<p>如何枚举(p,q)?<br>
在<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Stern%E2%80%93Brocot_tree">法雷树</a>上进行枚举.</p>
</blockquote>
<h2 id="0516">0516</h2>
<p>5-光滑数是指最大质因数不超过5的数.你要在1e12范围内对于欧拉函数是光滑数的所有数字求和.</p>
<p>我们发现,满足条件的数字一定有以下性质:<br>
$$2^a3^b5^cp_1p_2…$$<br>
其中abc随便取,后面的p数组都满足 $p-1=2^x3^y5^z$ .<br>
于是我们暴搜所有前半部分和质数部分,拼一起求和.</p>
<p>但是实际上比较考验剪枝能力.<br>
常规枚举每个质数选和不选会T飞.<br>
对于一个质数,我们枚举和这个质数下一个相乘的质数,然后递归下去,同时排序之后一旦大于立刻剪枝,这样的质数选择是单调且不重的,而且才能真正快速的算出来答案,见代码:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">u32 res;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> num,i64 prod)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=top;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(tmp[i]*prod&gt;lim)<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			res+=tmp[i]*prod;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=num;i&lt;=ttop;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(prod*pp[i]&lt;=lim)</span><br><span class="line">			<span class="built_in">dfs2</span>(i+<span class="number">1</span>,prod*pp[i]);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0518">0518</h2>
<p>题干略.发现这个等比数列的公比可能是一个分数.所以考虑对a进行质因数分解,然后枚举公比.因为公比两项是平方级别,所以这个枚举公比大概是log级别.很好写.<br>
复杂度比较玄学,AI说是 $O(n\log\log n)$ ,瓶颈在于欧拉筛,反正能过,跑的飞快就是了…<br>
exp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>   vis[<span class="number">100000010</span>];<span class="comment">//存最小质因数,负的表示质数表中的位置(负的)</span></span><br><span class="line"><span class="type">int</span>  p[<span class="number">10000010</span>],ptop=<span class="number">0</span>;<span class="comment">//存质数 </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;<span class="comment">//[1,n]</span></span><br><span class="line">	<span class="type">int</span> tmp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">			vis[i]=-(++ptop);</span><br><span class="line">			p[ptop]=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ptop&amp;&amp;i*p[j]&lt;=n;++j)&#123;</span><br><span class="line">			vis[i*p[j]]=p[j];</span><br><span class="line">			<span class="keyword">if</span>(i%p[j]==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> st[<span class="number">1000</span>],top=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> sst[<span class="number">1000</span>],ttop=<span class="number">0</span>;</span><br><span class="line">i64 ssst[<span class="number">1000000</span>],tttop=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> num,i64 prod)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(num&gt;ttop)&#123;</span><br><span class="line">		<span class="comment">// si</span></span><br><span class="line">		ssst[++tttop]=prod;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">dfs</span>(num+<span class="number">1</span>,prod);</span><br><span class="line">	<span class="built_in">dfs</span>(num+<span class="number">1</span>,prod*sst[num]);</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;<span class="built_in">ck</span>(<span class="type">int</span> num)&#123;</span><br><span class="line">	top=<span class="number">0</span>;ttop=<span class="number">0</span>;tttop=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(vis[num]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		st[++top]=vis[num];</span><br><span class="line">		num/=vis[num];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(num!=<span class="number">1</span>)&#123;</span><br><span class="line">		st[++top]=num;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(st+<span class="number">1</span>,st+top+<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;top;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(st[i]==st[i+<span class="number">1</span>])&#123;</span><br><span class="line">			sst[++ttop]=st[i];</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;res;</span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">sort</span>(ssst+<span class="number">1</span>,ssst+tttop+<span class="number">1</span>);</span><br><span class="line">	tttop=<span class="built_in">unique</span>(ssst+<span class="number">1</span>,ssst+tttop+<span class="number">1</span>)-ssst<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=tttop;++i)&#123;</span><br><span class="line">		res.<span class="built_in">push_back</span>(ssst[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n,m,res;</span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fin&gt;&gt;n;</span><br><span class="line">	<span class="built_in">sieve</span>(n);</span><br><span class="line">	si;</span><br><span class="line">	fout.<span class="built_in">flush</span>();</span><br><span class="line">	n++;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=ptop;++i)&#123;</span><br><span class="line">		<span class="keyword">auto</span> tmp=<span class="built_in">ck</span>(p[i]+<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">auto</span> il:tmp)&#123;</span><br><span class="line">			<span class="keyword">for</span>(i64 j=il+<span class="number">1</span>;(p[i]+<span class="number">1</span>)/il/il*j*j&lt;=n;++j)&#123;</span><br><span class="line">				<span class="keyword">if</span>(__gcd(j,(i64)il)!=<span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span>(vis[(p[i]+<span class="number">1</span>)/il/il*j*j<span class="number">-1</span>]&lt;<span class="number">0</span>&amp;&amp;vis[(p[i]+<span class="number">1</span>)/il*j<span class="number">-1</span>]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">					res+=p[i]+(p[i]+<span class="number">1</span>)/il*j<span class="number">-1</span>+(p[i]+<span class="number">1</span>)/il/il*j*j<span class="number">-1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;res;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0555">0555</h2>
<p>给一个奇怪的函数,找所有 $f(n)=n$ 的点,求和.<br>
$$f(n)=\begin{cases}<br>
n-a&amp;n&gt;b\\<br>
f(f(n+c))&amp;n\le b<br>
\end{cases}$$<br>
这个函数和0340这个题特别相似,都是大于某个值就返回原数减固定值,小于某个值就套娃加,这种函数的共性就是,和n的差是一个分段函数.</p>
<h2 id="0577">0577</h2>
<p>给一个长度为n的正三角形,每条边被长度为1的等分,然后点之间连线,然后让你数每一个不同大小的三角形中的最大正六边形的数目.很妙的找规律题.</p>
<p>首先模样例,一个长度为1的六边形在更大的三角形中是等差数列的贡献,这个可以O(1)算.然后测6的样例,发现出了一个边长为2的六边形,但是还伴随一个长度为 $\sqrt3$ 的六边形出来,考虑枚举点,但是很难写,这道题被搁置.</p>
<p>我们换一个思路:由贪心知一个新的六边形中心第一次总是以正三角形中心为中心出现,所以尝试把正三角形中心放到正三角形的边角,只考虑这六分之一的情况,发现正好就是长度为n的能产生n种新三角形,于是做一下前缀和,暴力一下就出来了.</p>
<h2 id="0581">0581</h2>
<p>本来打了一个小表看看oeis上能查出来,大喜过望.<br>
结果oeis上面没什么有用信息,最后暴搜取上限过了.</p>
<p>观察到一个性质:如果n和(n+1)都是光滑数,那么n(n+1)也是光滑数.所以枚举所有范围内的质数,暴搜所有数,最后排序,如果出现两个数连着,答案就加上前者.<br>
wiki上说由于一个神秘的定理,总之这玩意是有限解的云云,但这对解题没什么帮助,只是告诉你有解…</p>
<p>还是那句话,假如你要处理很多个已经满足不重的元素,想让它们有序,一定要用vector+sort,比set快一年.<br>
笔者用前者跑了7s多,后者跑了52s多…真的快一年了.<br>
前者对随机4.8e7的数据能在15s内搜完+排序…</p>
<h2 id="0601">0601</h2>
<p>发现可以用CRT做.导一下式子发现都是形如<br>
$$n-1\equiv 0\mod i$$<br>
这样的式子,直接求lcm,然后先不管最后那个不满足,看看答案有多大.<br>
结果答案只有不到3e6的大小,那就直接枚举判断了,再大一点就容斥一下就可以了.<br>
这个题端点是取不到的,开区间是坏文明,闭区间是好文明.</p>
<h2 id="0609">0609</h2>
<p>所有节点构成一棵树.<br>
发现即使是1e8的时候,整棵树的深度还是非常的浅(11左右),所以考虑直接暴力找所有链,之后乘一起.<br>
exp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>   vis[<span class="number">100000010</span>];<span class="comment">//存最小质因数,负的表示质数表中的位置(负的)</span></span><br><span class="line"><span class="type">int</span>   pre[<span class="number">100000010</span>];</span><br><span class="line"><span class="type">int</span>   spa[<span class="number">100000010</span>];</span><br><span class="line"><span class="type">int</span>  reff[<span class="number">100000010</span>];</span><br><span class="line"><span class="type">int</span>     p[<span class="number">10000010</span>],ptop=<span class="number">0</span>;<span class="comment">//存质数 </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;<span class="comment">//[1,n]</span></span><br><span class="line">	<span class="type">int</span> tmp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">			vis[i]=-(++ptop);</span><br><span class="line">			p[ptop]=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ptop&amp;&amp;i*p[j]&lt;=n;++j)&#123;</span><br><span class="line">			vis[i*p[j]]=p[j];</span><br><span class="line">			<span class="keyword">if</span>(i%p[j]==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		pre[i]+=pre[i<span class="number">-1</span>]+(vis[i]&lt;<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> pi[<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n,m,res;</span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fin&gt;&gt;n;</span><br><span class="line">	<span class="built_in">sieve</span>(n);</span><br><span class="line">	queue&lt;<span class="type">int</span>&gt;q;</span><br><span class="line">	q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">	<span class="type">int</span> l=<span class="number">2</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">		<span class="keyword">auto</span> i=q.<span class="built_in">front</span>();</span><br><span class="line">		q.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(l&gt;n)<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">if</span>(pre[l]==i)&#123;</span><br><span class="line">				spa[l]=spa[i]+<span class="number">1</span>;</span><br><span class="line">				reff[l]=i;</span><br><span class="line">				q.<span class="built_in">push</span>(l);</span><br><span class="line">				l++;</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="type">int</span> tmp=i,cnt=(vis[i]&gt;=<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">			tmp=reff[tmp];</span><br><span class="line">			<span class="keyword">if</span>(vis[tmp]&gt;=<span class="number">0</span>)cnt++;</span><br><span class="line">			pi[cnt]++;</span><br><span class="line">			<span class="keyword">if</span>(tmp==<span class="number">1</span>)<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	res=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(pi[i]!=<span class="number">0</span>)&#123;</span><br><span class="line">			res*=pi[i];</span><br><span class="line">			res%=mod;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;res&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0607">0607</h2>
<p>光的折射.直接模拟即可.</p>
<h2 id="0613">0613</h2>
<p>尝试将三角形补成一个长方形,然后利用轮换对称去推导性质,然后失败了.<br>
看<a target="_blank" rel="noopener" href="https://ujimatsu-chiya.github.io/QUESTION/Project-Euler-613/">大佬博客</a>说是正攻,直接按照角度算二重积分就可以了…<br>
$$p(x,y)=\frac{1}{2\pi}\cos^{-1}\frac{x^2+y^2-xx_0-yy_0}{\sqrt{(x_0-x)^2+y^2}\cdot\sqrt{x^2+(y_0-y)^2}}$$<br>
$$I=\int_0^{x_0}\int_0^{y_0-\frac{y_0}{x_0}}p(x,y)\mathrm{d}y\mathrm{d}x$$<br>
$$P=\frac{2}{x_0y_0}I$$<br>
上面的办法写成python也很有意思:求二重积分的脚本…</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> acos, pi</span><br><span class="line"><span class="keyword">from</span> scipy.integrate <span class="keyword">import</span> dblquad</span><br><span class="line"></span><br><span class="line">x0=<span class="number">30</span></span><br><span class="line">y0=<span class="number">40</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 答案 精度</span></span><br><span class="line">ans,err=dblquad(</span><br><span class="line">    <span class="keyword">lambda</span> y,x:acos((x*x+y*y-x*x0-y*y0)/((x0-x)**<span class="number">2</span>+y**<span class="number">2</span>)**<span class="number">0.5</span>/((y0-y)**<span class="number">2</span>+x**<span class="number">2</span>)**<span class="number">0.5</span>)/(<span class="number">2</span>*pi),</span><br><span class="line">    <span class="comment"># y的上下限</span></span><br><span class="line">    <span class="number">0</span>,x0,</span><br><span class="line">    <span class="comment"># x的上下限</span></span><br><span class="line">    <span class="number">0</span>,<span class="keyword">lambda</span> x:y0-y0/x0*x)</span><br><span class="line">	<span class="comment"># 最先被积分的写在下面</span></span><br><span class="line">ans/=x0*y0/<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure>
<h2 id="0622">0622</h2>
<p>被1-index害了…<br>
在0-index的时候,即[0,2n-1],前面的元素会变成2i,后面的会变成2i%(2n-1).<br>
然后发现规律:k次之后位置是 $2^ki\mod(2n-1)$ ,所以回到原位有 $2^ki\equiv i\mod(2n-1)$ ,除掉i剩下 $2^k\equiv 1\mod(2n-1)$ ,所以 $2^k-1\equiv0\mod (2n-1)$ ,所以 $2^{k_1}-1=k_2(2n-1)$ ,分解质因数之后检查因子的阶是不是N.</p>
<p><a target="_blank" rel="noopener" href="https://ujimatsu-chiya.github.io/QUESTION/Project-Euler-622/">ref</a>,文中提到这就是模n乘法群里面2的阶.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sympy <span class="keyword">import</span> n_order</span><br><span class="line"></span><br><span class="line">N = <span class="number">60</span></span><br><span class="line">ans = <span class="built_in">sum</span>((d+<span class="number">1</span>) <span class="keyword">for</span> d <span class="keyword">in</span> divisors(<span class="number">2</span> ** N - <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure>
<p>这个exp脚本非常有意思.</p>
<h2 id="0630">0630</h2>
<p>首先把所有直线表示出来.<br>
然后按照斜率排序,把所有完全相同的删掉.<br>
然后对每一个直线暴力找有多少个平行直线.<br>
最坏复杂度O(n^4\log n^2),但这个题是随机数据,所以是O(n^2\log n^2).</p>
<p>下面的两个比较脚本都是让ds写的…<br>
ds在写函数方面还是很好用的…<br>
exp:(3.906 seconds)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::array&lt;<span class="type">int</span>, 3&gt; <span class="title">lineEquation</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 计算直线方程的系数</span></span><br><span class="line">    <span class="type">int</span> a = y2 - y1;</span><br><span class="line">    <span class="type">int</span> b = x1 - x2;</span><br><span class="line">    <span class="type">int</span> c = x2 * y1 - x1 * y2;</span><br><span class="line">    <span class="comment">// 计算系数的最大公约数</span></span><br><span class="line">    <span class="type">int</span> g = __gcd(a, __gcd(b, c));</span><br><span class="line">    <span class="comment">// 如果最大公约数不为0，用最大公约数化简系数</span></span><br><span class="line">    <span class="keyword">if</span> (g != <span class="number">0</span>) &#123;</span><br><span class="line">        a /= g;</span><br><span class="line">        b /= g;</span><br><span class="line">        c /= g;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 保证a为非负，如果a为0则保证b为非负</span></span><br><span class="line">    <span class="keyword">if</span> (a &lt; <span class="number">0</span> || (a == <span class="number">0</span> &amp;&amp; b &lt; <span class="number">0</span>)) &#123;</span><br><span class="line">        a = -a;</span><br><span class="line">        b = -b;</span><br><span class="line">        c = -c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;a, b, c&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Prompt:我现在知道两个点的整数坐标，设为x[i],y[i],x[j],y[j],请给我写一个c++函数，返回array&lt;int,3&gt;,代表这个直线的解析式ax+by+c=0,注意上述运算必须全部整数运算，使用gcd函数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">vector&lt;array&lt;<span class="type">int</span>,3&gt;&gt;vc;</span><br><span class="line"><span class="comment">// 比较函数，用于对直线按照斜率排序</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> std::array&lt;<span class="type">int</span>, <span class="number">3</span>&gt;&amp; line1, <span class="type">const</span> std::array&lt;<span class="type">int</span>, <span class="number">3</span>&gt;&amp; line2)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a1 = line1[<span class="number">0</span>], b1 = line1[<span class="number">1</span>], c1 = line1[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> a2 = line2[<span class="number">0</span>], b2 = line2[<span class="number">1</span>], c2 = line2[<span class="number">2</span>];</span><br><span class="line">    <span class="comment">// 处理垂直线的情况（b=0）</span></span><br><span class="line">    <span class="keyword">if</span> (b1 == <span class="number">0</span> &amp;&amp; b2 == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 两条都是垂直线，比较x轴截距</span></span><br><span class="line">        <span class="comment">// 对于垂直线 ax + c = 0，x = -c/a</span></span><br><span class="line">        <span class="comment">// 但由于a可能不同，我们比较 -c1*a2 和 -c2*a1</span></span><br><span class="line">        <span class="keyword">return</span> (-c1 * a2) &lt; (-c2 * a1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (b1 == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// line1是垂直线，应该排在所有非垂直线的右边（如果按斜率从小到大）</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (b2 == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// line2是垂直线，line1应该排在左边</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 一般情况：比较斜率 k = -a/b</span></span><br><span class="line">    <span class="comment">// 为了避免浮点数，比较 a1*b2 和 a2*b1</span></span><br><span class="line">    <span class="comment">// 因为 k1 = -a1/b1, k2 = -a2/b2</span></span><br><span class="line">    <span class="comment">// 所以比较 k1 和 k2 等价于比较 -a1/b1 和 -a2/b2</span></span><br><span class="line">    <span class="comment">// 即比较 a1*b2 和 a2*b1（注意符号）</span></span><br><span class="line">    <span class="comment">// 由于我们想要按斜率从小到大排序，所以比较 a2*b1 和 a1*b2</span></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> cross1 = (<span class="type">long</span> <span class="type">long</span>)a2 * b1;  <span class="comment">// 对应 k2 的分母</span></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> cross2 = (<span class="type">long</span> <span class="type">long</span>)a1 * b2;  <span class="comment">// 对应 k1 的分母</span></span><br><span class="line">    <span class="keyword">if</span> (cross1 != cross2) &#123;</span><br><span class="line">        <span class="keyword">return</span> cross1 &gt; cross2;  <span class="comment">// 这样可以得到斜率从小到大的排序</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果斜率相同，比较y轴截距</span></span><br><span class="line">    <span class="comment">// 截距 = -c/b</span></span><br><span class="line">    <span class="comment">// 比较 -c1/b1 和 -c2/b2 等价于比较 -c1*b2 和 -c2*b1</span></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> intercept1 = (<span class="type">long</span> <span class="type">long</span>)(-c1) * b2;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> intercept2 = (<span class="type">long</span> <span class="type">long</span>)(-c2) * b1;</span><br><span class="line">    <span class="keyword">return</span> intercept1 &lt; intercept2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Prompt:请写一个排序比较函数，对形如ax+by+c=0的直线按照&quot;斜率&quot;排序，需要排序的是vector&lt;array&lt;int,3&gt;&gt;,你的函数接口是char cmp(array&lt;int,3&gt;a,array&lt;int,3&gt;b)&#123;...&#125;a[0]是上文的a,a[1]是b,a[2]是c</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">i64 s[<span class="number">5010</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n,m,res;</span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	n=<span class="number">2500</span>;</span><br><span class="line">	s[<span class="number">0</span>]=<span class="number">290797</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*n;++i)&#123;</span><br><span class="line">		s[i]=s[i<span class="number">-1</span>]*s[i<span class="number">-1</span>]%<span class="number">50515093</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*n;++i)&#123;</span><br><span class="line">		s[i]=s[i]%<span class="number">2000</span><span class="number">-1000</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;++j)&#123;</span><br><span class="line">			<span class="type">int</span> a,b,c;</span><br><span class="line">			vc.<span class="built_in">push_back</span>(<span class="built_in">lineEquation</span>(s[i*<span class="number">2</span><span class="number">-1</span>],s[i*<span class="number">2</span>],s[j*<span class="number">2</span><span class="number">-1</span>],s[j*<span class="number">2</span>]));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(vc.<span class="built_in">begin</span>(),vc.<span class="built_in">end</span>(),cmp);</span><br><span class="line">	m=<span class="built_in">unique</span>(vc.<span class="built_in">begin</span>(),vc.<span class="built_in">end</span>())-vc.<span class="built_in">begin</span>();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;++i)&#123;</span><br><span class="line">		<span class="type">int</span> ttmp=i;</span><br><span class="line">		<span class="keyword">while</span>(ttmp+<span class="number">1</span>&lt;m&amp;&amp;vc[ttmp][<span class="number">0</span>]==vc[ttmp+<span class="number">1</span>][<span class="number">0</span>]&amp;&amp;vc[ttmp][<span class="number">1</span>]==vc[ttmp+<span class="number">1</span>][<span class="number">1</span>])ttmp++;</span><br><span class="line">		res+=m-ttmp<span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;m&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">	fout&lt;&lt;res*<span class="number">2</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0679">0679</h2>
<p>状压dp.设 $dp_{i,j,k,l,o}$ 表示当前考虑第i位,这个[i-2,i]区间上所有字符的取值情况分别为jkl,这四个单词拼成p种(状压)时的情况数,直接转移即可:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">i128 dp[<span class="number">40</span>][<span class="number">4</span>][<span class="number">4</span>][<span class="number">4</span>][<span class="number">16</span>];</span><br><span class="line"><span class="comment">// AEFR  FREE  FARE  AREA  REEF</span></span><br><span class="line"><span class="comment">// 0123  2311  2031  0310  3112</span></span><br><span class="line">i128 n,m,res;</span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">4</span>;++j)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;<span class="number">4</span>;++k)&#123;</span><br><span class="line">				dp[<span class="number">3</span>][i][j][k][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">4</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">4</span>;++j)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;<span class="number">4</span>;++k)&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> l=<span class="number">0</span>;l&lt;<span class="number">4</span>;++l)&#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> p=<span class="number">0</span>;p&lt;<span class="number">4</span>;++p)&#123;</span><br><span class="line">						<span class="keyword">if</span>(j==<span class="number">2</span>&amp;&amp;k==<span class="number">3</span>&amp;&amp;l==<span class="number">1</span>&amp;&amp;p==<span class="number">1</span>)&#123;</span><br><span class="line">							<span class="keyword">for</span>(<span class="type">int</span> o=<span class="number">0</span>;o&lt;<span class="number">16</span>;++o)&#123;</span><br><span class="line">								<span class="keyword">if</span>(o&amp;(<span class="number">1</span>&lt;&lt;<span class="number">0</span>))<span class="keyword">continue</span>;</span><br><span class="line">								dp[i][k][l][p][o|(<span class="number">1</span>&lt;&lt;<span class="number">0</span>)]+=dp[i<span class="number">-1</span>][j][k][l][o];</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(j==<span class="number">2</span>&amp;&amp;k==<span class="number">0</span>&amp;&amp;l==<span class="number">3</span>&amp;&amp;p==<span class="number">1</span>)&#123;</span><br><span class="line">							<span class="keyword">for</span>(<span class="type">int</span> o=<span class="number">0</span>;o&lt;<span class="number">16</span>;++o)&#123;</span><br><span class="line">								<span class="keyword">if</span>(o&amp;(<span class="number">1</span>&lt;&lt;<span class="number">1</span>))<span class="keyword">continue</span>;</span><br><span class="line">								dp[i][k][l][p][o|(<span class="number">1</span>&lt;&lt;<span class="number">1</span>)]+=dp[i<span class="number">-1</span>][j][k][l][o];</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(j==<span class="number">0</span>&amp;&amp;k==<span class="number">3</span>&amp;&amp;l==<span class="number">1</span>&amp;&amp;p==<span class="number">0</span>)&#123;</span><br><span class="line">							<span class="keyword">for</span>(<span class="type">int</span> o=<span class="number">0</span>;o&lt;<span class="number">16</span>;++o)&#123;</span><br><span class="line">								<span class="keyword">if</span>(o&amp;(<span class="number">1</span>&lt;&lt;<span class="number">2</span>))<span class="keyword">continue</span>;</span><br><span class="line">								dp[i][k][l][p][o|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)]+=dp[i<span class="number">-1</span>][j][k][l][o];</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(j==<span class="number">3</span>&amp;&amp;k==<span class="number">1</span>&amp;&amp;l==<span class="number">1</span>&amp;&amp;p==<span class="number">2</span>)&#123;</span><br><span class="line">							<span class="keyword">for</span>(<span class="type">int</span> o=<span class="number">0</span>;o&lt;<span class="number">16</span>;++o)&#123;</span><br><span class="line">								<span class="keyword">if</span>(o&amp;(<span class="number">1</span>&lt;&lt;<span class="number">3</span>))<span class="keyword">continue</span>;</span><br><span class="line">								dp[i][k][l][p][o|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)]+=dp[i<span class="number">-1</span>][j][k][l][o];</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">							<span class="keyword">for</span>(<span class="type">int</span> o=<span class="number">0</span>;o&lt;<span class="number">16</span>;++o)&#123;</span><br><span class="line">								dp[i][k][l][p][o]+=dp[i<span class="number">-1</span>][j][k][l][o];</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">4</span>;++j)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;<span class="number">4</span>;++k)&#123;</span><br><span class="line">				res+=dp[n][i][j][k][<span class="number">15</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;res&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0684">0684</h2>
<p>解法非常妙的题.</p>
<p>首先发现满足性质的数字是末尾全是9,头是剩下的数字,也就是 $(x%9)(x/9)$ 这么个形式,于是 <strong>考虑直接+1然后总和减去n</strong> 就能避免因为9导致的无穷级数收敛问题,从而把前面全部转换成一个等比数列.</p>
<h2 id="0692">0692</h2>
<p>找规律题.首先考虑直接模拟:设dp[i]表示i的最小个数,转移方程<br>
$$dp[i]=\min_{j=1}^{i-1}(dp[i-j]&gt;2j)$$<br>
然后得到一个数列,发现(没有发现可以oeis,这个数列不太好瞪眼看出来)数列是前面的数列各种重复,然后最后插一个从来没出现的斐波那契数字.然后直接分段维护前缀和就行了.</p>
<h2 id="0694">0694</h2>
<p>乍一看发现不会.看题解才发现题读假了,然后秒想到正确做法…<br>
整理一下题干,一个质数在满立方数中要么不出现.要么出现3次及以上.<br>
找几个很小的质数的三次方测以下,发现这样的数的质因数不会超过7个.<br>
同时对于一个满立方数,贡献是 $lim/x$ .<br>
所以我们预处理 $\sqrt[3]{n}$ 以内的质数,然后用一个栈表示当前可以被拓展的数字集合,然后又一个栈表示所有在当前付过p3代价的数,他们可以随意乘p了.最后这两个栈合并,然后再筛掉一些特别大以至于不能拓展的数,跑的飞快(0.1572s).<br>
exp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">fastio::IN fin;</span><br><span class="line">fastio::OUT fout;</span><br><span class="line"><span class="type">int</span>   vis[<span class="number">1000010</span>];</span><br><span class="line">i128  p[<span class="number">100010</span>],ptop=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;<span class="comment">//[1,n]</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">			vis[i]=-(++ptop);</span><br><span class="line">			p[ptop]=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ptop&amp;&amp;i*p[j]&lt;=n;++j)&#123;</span><br><span class="line">			vis[i*p[j]]=p[j];</span><br><span class="line">			<span class="keyword">if</span>(i%p[j]==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">i128 p3[<span class="number">1000000</span>];</span><br><span class="line"></span><br><span class="line">i64 lim=<span class="number">1e18</span>;</span><br><span class="line">i128 res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">i128 st[<span class="number">10000000</span>],top=<span class="number">0</span>;</span><br><span class="line">i128 pre[<span class="number">1000000</span>],prtop=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n,m;</span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">sieve</span>(<span class="number">1000000</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=ptop;++i)&#123;</span><br><span class="line">		p3[i]=p[i]*p[i]*p[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=ptop;++i)&#123;</span><br><span class="line">		prtop=<span class="number">0</span>;</span><br><span class="line">		pre[++prtop]=p3[i];</span><br><span class="line">		<span class="keyword">while</span>(pre[prtop]*p[i]&lt;=lim)&#123;</span><br><span class="line">			prtop++;</span><br><span class="line">			pre[prtop]=pre[prtop<span class="number">-1</span>]*p[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=top;++j)&#123;</span><br><span class="line">			<span class="keyword">if</span>(st[j]*p3[i]&gt;lim)<span class="keyword">continue</span>;</span><br><span class="line">			pre[++prtop]=st[j]*p3[i];</span><br><span class="line">			<span class="keyword">while</span>(pre[prtop]*p[i]&lt;=lim)&#123;</span><br><span class="line">				prtop++;</span><br><span class="line">				pre[prtop]=pre[prtop<span class="number">-1</span>]*p[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=prtop;++j)&#123;</span><br><span class="line">			st[++top]=pre[j];</span><br><span class="line">		&#125;</span><br><span class="line">		prtop=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=top;++j)&#123;</span><br><span class="line">			<span class="keyword">if</span>(st[j]*p3[i]&gt;lim)&#123;</span><br><span class="line">				res+=lim/st[j];</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				st[++prtop]=st[j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		top=prtop;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=top;++i)&#123;</span><br><span class="line">		res+=lim/st[i];</span><br><span class="line">	&#125;</span><br><span class="line">	res+=lim;</span><br><span class="line">	fout&lt;&lt;res&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0700">0700</h2>
<p>给一个数列,求其前缀min等于数列末端元素的和.</p>
<p>首先跑一下pr发现后面是一个质数.两个数都是1e15级别的数,显然不是暴力能搞定的,因为质数保证了在[0,p]内所有值都会出现一次.</p>
<p>对于这种题一般有两种解法:求到一半,发现函数再后面几乎无影响了,然后直接交算了一半的解.<br>
或者中途换算法.</p>
<p>发现在2e10左右,欧拉币大小已经收敛到了2e5,此时可以使用exgcd求解值对应的步数,具体地,求解 $ax+by=1$ 然后乘值c,对步数排个序,算一下前缀min.<br>
总复杂度 $O(2e10+2e5\log2e5)$ .</p>
<h2 id="0709">0709</h2>
<p>你每天能得到一个袋子,你可以选择把之前的袋子任意偶数个套到当前袋子中,也可以让袋子空着,问有多少种情况<br>
$$f(n+1)=\sum_{k\le n}^{k\in even}\binom{n}{k}f(k)f(n-k)$$<br>
这个式子怎么理解?设f(k)是有k个袋子的情况,当前所有的袋子要合并都会合并到n+1号袋子中,所以先选k个袋子,然后这k号袋子随意套娃产生f(k),最后剩下的n-k个袋子随意套娃产生f(n-k),结果就是这个.</p>
<h2 id="0725">0725</h2>
<p>数位dp题.由于本题特殊的性质,我们要枚举非0数字.然后得到一个数字的排列形式,然后枚举:对某个特定位置枚举某个特定数字,然后剩下的数字随便排列,把这个位数上特定数字乘上排列的结果,最后加起来就是答案.</p>
<h2 id="0731">0731</h2>
<p>计算一个很复杂的式子的末尾10位,还是考虑小数点右移,然后对剩下的级数求其小数位,注意因为进位问题不能和820再乘十一个做法.</p>
<h2 id="0749">0749</h2>
<p>看到16以为是折半,结果搜索半天少了情况还喜提WA…<br>
题解说是枚举k的情况下枚举每一位数字的情况,然后对这个pay计算能不能用当前数字表示.<br>
居然能1s内跑出来,唐完了…<br>
(也就是说正解比Flu多了一个数字排列组合的处理,然后快上天…)</p>
<h2 id="0754">0754</h2>
<p>考虑一个数对于整个区间的贡献,发现就是把其所有不同的质因子容斥一下,注意这个小因子的容斥是整个区间,但是我们只要[num+1,n]这段区间的答案,所以再减掉[1,num]这里的容斥即可.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>   vis[<span class="number">100000010</span>];<span class="comment">//存最小质因数,负的表示质数表中的位置(负的)</span></span><br><span class="line"><span class="type">int</span>  p[<span class="number">10000010</span>],ptop=<span class="number">0</span>;<span class="comment">//存质数 </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;<span class="comment">//[1,n]</span></span><br><span class="line">	<span class="type">int</span> tmp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">			vis[i]=-(++ptop);</span><br><span class="line">			p[ptop]=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ptop&amp;&amp;i*p[j]&lt;=n;++j)&#123;</span><br><span class="line">			vis[i*p[j]]=p[j];</span><br><span class="line">			<span class="keyword">if</span>(i%p[j]==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3&gt;</span></span><br><span class="line"><span class="function">T1 <span class="title">qp</span><span class="params">(T1 b,T2 po,T3 p)</span></span>&#123;</span><br><span class="line">	<span class="function">T1 <span class="title">res</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="keyword">while</span>(po&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(po&amp;<span class="number">1</span>)</span><br><span class="line">			res=res*b%p;</span><br><span class="line">		b=b*b%p;</span><br><span class="line">		po&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n,m,res;</span><br><span class="line"><span class="type">int</span> st[<span class="number">1000</span>],top=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span>&amp; res,<span class="type">int</span> num,<span class="type">int</span> bi,<span class="type">int</span> top,<span class="type">int</span> cnt,<span class="type">int</span> prod)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(num&gt;top)&#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt&amp;<span class="number">1</span>)&#123;</span><br><span class="line">			res-=(n/prod-bi/prod);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			res+=(n/prod-bi/prod);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">dfs</span>(res,num+<span class="number">1</span>,bi,top,cnt,prod);</span><br><span class="line">	<span class="built_in">dfs</span>(res,num+<span class="number">1</span>,bi,top,cnt+<span class="number">1</span>,prod*st[num]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">calc</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> ttmp=num;</span><br><span class="line">	top=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[num]&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">			st[++top]=p[-vis[num]];</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			st[++top]=vis[num];</span><br><span class="line">			num/=vis[num];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(st+<span class="number">1</span>,st+top+<span class="number">1</span>);</span><br><span class="line">	top=<span class="built_in">unique</span>(st+<span class="number">1</span>,st+top+<span class="number">1</span>)-st<span class="number">-1</span>;</span><br><span class="line">	<span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">dfs</span>(res,<span class="number">1</span>,ttmp,top,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	n=<span class="number">100000000</span>;</span><br><span class="line">	<span class="built_in">sieve</span>(n);</span><br><span class="line">	res=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(i64 i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="type">int</span> po=<span class="built_in">calc</span>(i);</span><br><span class="line">		res*=<span class="built_in">qp</span>(i,po,mod);</span><br><span class="line">		res%=mod;</span><br><span class="line">		<span class="keyword">if</span>(i%<span class="number">1000000</span>==<span class="number">0</span>)&#123;</span><br><span class="line">			fout&lt;&lt;i&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">			fout.<span class="built_in">flush</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;res&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0755">0755</h2>
<p>看题解了…<br>
居然是个dp…设f(k,s)表示选择斐波那契前k项,所有元素和小于等于s的情况数.转移方程是<br>
$$f(k,s)=\begin{cases}<br>
0&amp;s&lt;0\\<br>
1&amp;k=0\\<br>
2^k&amp;\sum_{i=1}^k F_i\le N\\<br>
f(k-1,s)+f(k-1,s-F_k)<br>
\end{cases}$$<br>
假如范围内所有斐波那契数列都小于s,那么随便选,否则排除边界状况之后,新的斐波那契数字可以选也可以不选,答案直接转移即可.</p>
<h2 id="0757">0757</h2>
<p>不难推算出来,就是求一个式子 $f(x,y)=x(x+1)y(y+1),x,y&gt;0$ 在 $[1,10^{14}]$ 这个区间有多少个数字,然后最噩梦的地方就在于快速计算这里.</p>
<p>答案是,没有好办法.你去<a target="_blank" rel="noopener" href="https://oeis.org/A072389">OEIS</a>上搜也搜不到公式,这下是谁都帮不了你了.</p>
<p>怎么办?暴力呗.(看答案傻眼了,vector+sort都是nlog比set和map快了几倍,)</p>
<p>但是依然有一个比较好玩的性质:笔者暴力的时候发现x在几万的时候,y随便取值,res都基本不变化了,这个时候交一发不知道为啥就过了…</p>
<p>也许数学题进阶的暴力就是看函数&quot;收敛&quot;之后直接交一发赌一下能不能过???</p>
<h2 id="0772">0772</h2>
<p>实在不会做看题解了…<br>
题解说只需要暴搜前几项然后oeis…<br>
最小数就是 $2\mathrm{lcm}(1,2,…,n)$</p>
<p>仔细想了想觉得好有道理,但是说不出来为什么这么有道理…<br>
草,总之这个题非常诈骗,记住得了…</p>
<h2 id="0793">0793</h2>
<p>中位数题做法比较固定,这个题用二分即可解决.<br>
然而实际写的时候在二分这里调了很久很久,太唐了,鉴定为写水题写的.</p>
<h2 id="0816">0816</h2>
<p>随机点集最短距离,好像是典,通过分治大法可以做到 $O(n\log n)$ ,非常神秘.</p>
<h2 id="0820">0820</h2>
<p>求解分数 $\frac ab$ 在n位的小数情况(n=1e7).</p>
<p>我们把小数点右移,得到 $\frac{a}{b}\times10^{n-1}$ ,而且我们不需要知道整数部分情况,所以求<br>
$$\frac{a\times10^{n-1}\mod b}{b}$$<br>
这个数字的小数第一位,即<br>
$$\left\lfloor\frac{10\times(a\times10^{n-1}\mod b)}{b}\right\rfloor$$</p>
<h2 id="0822">0822</h2>
<p>首先考虑如何快速计算自乘:即<br>
$$x^{2^k}\mod 1234567891$$<br>
能用快速幂维护(用欧拉定理).<br>
然后考虑用log代表原始数的关系,发现一层log不太够用,还是会出现倍增的形式,那么就两层log,这个时候自乘变为 $k\log 2+\log\log n$ ,初始时不太规律,后面就会出现一个数当前比所有数都小,然后自乘之后比所有数都大的局面(周期性),所以只需要暴力维护3n以前的自乘,中间的直接整除算出来,最后的数字因为不整,也暴力算.<br>
exp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">fastio::IN fin;</span><br><span class="line">fastio::OUT fout;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3&gt;</span></span><br><span class="line"><span class="function">T1 <span class="title">qp</span><span class="params">(T1 b,T2 po,T3 p)</span></span>&#123;</span><br><span class="line">	<span class="function">T1 <span class="title">res</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="keyword">while</span>(po&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(po&amp;<span class="number">1</span>)</span><br><span class="line">			res=res*b%p;</span><br><span class="line">		b=b*b%p;</span><br><span class="line">		po&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">1234567891</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> phi=<span class="number">1234567890</span>;</span><br><span class="line"></span><br><span class="line">i64 dat[<span class="number">10000</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">double</span> lgg[<span class="number">10000</span>];</span><br><span class="line">i64 pp[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line">i64 del=<span class="number">1e16</span>;</span><br><span class="line">i64 n=<span class="number">1e4</span>;</span><br><span class="line"></span><br><span class="line">i64 res;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;++i)&#123;</span><br><span class="line">		dat[i]=i+<span class="number">1</span>;</span><br><span class="line">		lgg[i]=<span class="built_in">log10</span>(<span class="built_in">log10</span>((<span class="type">long</span> <span class="type">double</span>)dat[i]));</span><br><span class="line">	&#125;</span><br><span class="line">	n--;</span><br><span class="line">	<span class="type">const</span> <span class="type">long</span> <span class="type">double</span> l2=<span class="built_in">log10</span>((<span class="type">long</span> <span class="type">double</span>)<span class="number">2</span>);</span><br><span class="line">	priority_queue&lt;pair&lt;<span class="type">long</span> <span class="type">double</span>,i64&gt;,vector&lt;pair&lt;<span class="type">long</span> <span class="type">double</span>,i64&gt;&gt;,greater&lt;pair&lt;<span class="type">long</span> <span class="type">double</span>,i64&gt;&gt;&gt; pq;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		pq.<span class="built_in">push</span>(&#123;lgg[i],i&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>*n;++i)&#123;</span><br><span class="line">		<span class="keyword">auto</span> x=pq.<span class="built_in">top</span>();pq.<span class="built_in">pop</span>();</span><br><span class="line">		pp[x.second]++;</span><br><span class="line">		pq.<span class="built_in">push</span>(&#123;x.first+l2,x.second&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	del-=<span class="number">3</span>*n;</span><br><span class="line">	i64 rou=del/n;</span><br><span class="line">	del-=rou*n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		pp[i]+=rou;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=del;++i)&#123;</span><br><span class="line">		<span class="keyword">auto</span> x=pq.<span class="built_in">top</span>();</span><br><span class="line">		pq.<span class="built_in">pop</span>();</span><br><span class="line">		pp[x.second]++;</span><br><span class="line">		pq.<span class="built_in">push</span>(&#123;x.first+l2,x.second&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	i64 cnt=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		res=(res+<span class="built_in">qp</span>(dat[i],<span class="built_in">qp</span>((i64)<span class="number">2</span>,pp[i],phi),mod))%mod;</span><br><span class="line">		cnt+=pp[i];</span><br><span class="line">	&#125;</span><br><span class="line">	fout&lt;&lt;res&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;cnt;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0828">0828</h2>
<p>呃呃,口胡了一个做法,然后因为太难写不想赤石就跑了,直接抄答案.<br>
Flu想两次dfs第一次按照1的多少枚举子集,然后第二次dfs枚举这个子集的元素分别属于哪个连通块.<br>
但是很难写,Flu不想赤石…</p>
<h2 id="0836">0836</h2>
<p>文字游戏.给了一堆很麻烦的定义,但是看最后一句:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Give as your answer the concatenation of the first letters of each bolded word.</span><br></pre></td></tr></table></figure>
<p>你的答案只需要由那堆定义的首字母连起来,实际上的 <code>f(20230401,57)</code> 根本不用求,这是文字游戏.(气炸了)</p>
<h2 id="0853">0853</h2>
<p>皮萨诺周期:斐波那契数列对任意一个数取模都会形成一个周期数列,这个周期叫做皮萨诺周期,一个数的最长皮萨诺周期是 $6n$ .</p>
<p>看了眼thread:对于皮萨诺周期 $p$ ,所有可能的 $n$ 中必须有的性质是:<br>
$$n|\gcd(F_{\pi(n)},F_{\pi(n+1)}-1)$$<br>
然后暴力检查即可.</p>
<h2 id="0862">0862</h2>
<p>首先观察发现,对于0-9每个数字个数都确定的情况,比如样例的1个0,2个2,1个3,他们的总和是可以O(1)计算的:答案是 <code>(num-1)*num/2</code> .<br>
所以考虑枚举0-9每位是什么数字,然后进行计算.</p>
<p>具体地:先对12进行分解,即能用x+x+…表示出来,然后取小于10的部分,然后枚举数字的阶乘(也就是有这么多个x数字),最后算个组合数.<br>
Flu实现的不是很精细,跑了5.467秒,不过已经足够.</p>
<p>在这里学到一个新知识:在一个长度为n的数字里插m个0,不能有前导零,不许动原始数字,一共有这么多情况:<br>
$$\binom{n+m-1}{n-1}$$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i64 long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3&gt;</span></span><br><span class="line"><span class="function">T1 <span class="title">qp</span><span class="params">(T1 b,T2 po,T3 p)</span></span>&#123;</span><br><span class="line">	<span class="function">T1 <span class="title">res</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="keyword">while</span>(po&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(po&amp;<span class="number">1</span>)</span><br><span class="line">			res=res*b%p;</span><br><span class="line">		b=b*b%p;</span><br><span class="line">		po&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> yh[<span class="number">114</span>][<span class="number">114</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> num,<span class="type">long</span> <span class="type">long</span> mod=<span class="number">100000000000000003</span>)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=num;++i)&#123;</span><br><span class="line">		yh[i][<span class="number">1</span>]=yh[i][i]=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;i;++j)&#123;</span><br><span class="line">			yh[i][j]=(yh[i<span class="number">-1</span>][j]+yh[i<span class="number">-1</span>][j<span class="number">-1</span>])%mod;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">long</span> <span class="type">long</span> <span class="title">C</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> yh[n+<span class="number">1</span>][m+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">unordered_map&lt;i64,i64&gt;mp;</span><br><span class="line">i128 res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> hum[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> lim=<span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">i128 <span class="title">hhash</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">	i128 rres=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=num;++j)&#123;</span><br><span class="line">			<span class="keyword">if</span>(hum[j]==i)&#123;</span><br><span class="line">				rres+=arr[j];</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		rres*=<span class="number">19</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> rres;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">i128 <span class="title">calc</span><span class="params">(i128 num)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="number">0</span>+num<span class="number">-1</span>)*(num)/<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">chk2</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> cnt=<span class="number">0</span>,cnt0=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=num;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(hum[i]==<span class="number">0</span>)&#123;</span><br><span class="line">			cnt0=arr[i];</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			cnt+=arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	i128 rres=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(cnt0!=<span class="number">0</span>)&#123;</span><br><span class="line">		rres=<span class="built_in">C</span>(cnt+cnt0<span class="number">-1</span>,cnt<span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// fout&lt;&lt;cnt&lt;&lt;&quot;     &quot;&lt;&lt;cnt0&lt;&lt;&quot; &quot;&lt;&lt;rres&lt;&lt;&quot;\n&quot;;</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=num;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(hum[i]==<span class="number">0</span>)&#123;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			rres*=<span class="built_in">C</span>(cnt,arr[i]);</span><br><span class="line">			cnt-=arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// for(int i=1;i&lt;=num;++i)&#123;</span></span><br><span class="line">	<span class="comment">// 	fout&lt;&lt;arr[i]&lt;&lt;&quot; &quot;&lt;&lt;hum[i]&lt;&lt;&quot;\n&quot;;</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line">	<span class="comment">// fout&lt;&lt;rres&lt;&lt;&quot;     &quot;&lt;&lt;calc(rres)&lt;&lt;&quot;      &quot;&lt;&lt;hhash(num)&lt;&lt;&quot;\n\n&quot;;</span></span><br><span class="line">	<span class="keyword">auto</span> &amp;pos=mp[<span class="built_in">hhash</span>(num)];</span><br><span class="line">	rres=<span class="built_in">calc</span>(rres);</span><br><span class="line">	<span class="keyword">if</span>(pos==<span class="number">0</span>)pos=rres;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">assert</span>(pos==rres);</span><br><span class="line">		<span class="comment">// fout&lt;&lt;pos&lt;&lt;&quot;    &quot;&lt;&lt;rres&lt;&lt;&quot;\n&quot;;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// si;</span></span><br><span class="line">	<span class="comment">// res+=calc(rres);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> tar)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(num&gt;tar)&#123;</span><br><span class="line">		<span class="built_in">chk2</span>(tar);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[i]==<span class="number">0</span>)&#123;</span><br><span class="line">			vis[i]=<span class="number">1</span>;</span><br><span class="line">			hum[num]=i;</span><br><span class="line">			<span class="built_in">dfs2</span>(num+<span class="number">1</span>,tar);</span><br><span class="line">			vis[i]=<span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">chk</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(num&gt;<span class="number">10</span>)<span class="keyword">return</span>;</span><br><span class="line">	<span class="built_in">dfs2</span>(<span class="number">1</span>,num);</span><br><span class="line">	<span class="comment">// res++;</span></span><br><span class="line">	<span class="comment">// for(int i=1;i&lt;=10;++i)&#123;</span></span><br><span class="line">	<span class="comment">// 	fout&lt;&lt;arr[i]&lt;&lt;&quot; &quot;;</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line">	<span class="comment">// enter</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> res,<span class="type">int</span> pre)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(res&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="built_in">chk</span>(num<span class="number">-1</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="built_in">min</span>(pre,res);++i)&#123;</span><br><span class="line">		arr[num]=i;</span><br><span class="line">		<span class="built_in">dfs</span>(num+<span class="number">1</span>,res-i,i);</span><br><span class="line">	&#125;</span><br><span class="line">	arr[num]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define NaraFluorine</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	lim=<span class="number">12</span>;</span><br><span class="line">	<span class="built_in">init</span>(<span class="number">100</span>);</span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>,lim,lim);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i:mp)&#123;</span><br><span class="line">		res+=i.second;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;(i64)res;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0869">0869</h2>
<p>一个显而易见的方法是,把所有质数的01做成一颗树,然后跑一遍树形概率DP.</p>
<p>但是这么着有一个问题,比如 <code>11</code> <code>1111</code> 显然的策略是全部猜1,同时期望是 $3$ ,所以实际上还需要记录一个数字在哪里停止,也就是说前半部分 <code>11</code> 是共有的,前面能分到1的概率,但是后面因为有一个数字在这里停止了,这个&quot;停止&quot;也要分到概率,而且这一层概率分配完了之后不会影响下面的计算.</p>
<h2 id="0874">0874</h2>
<p>尝试这么思考:刚开始所有数字全是0,每次往随机数组上加1,总共加k个,这是一轮,直到加到会爆k的限制时不加了.<br>
这个时候假设所有数组都是 $k-1$ ,会剩下 $n(m-1)\mod m$ 个数字在数组里面-1.<br>
所以答案就是把上面那个数字进行分解,然后取质数相加取max.</p>
<p>写一个 $O(n^3)$ 的dp即可,设dpij表示前i个数字,使用k个token的最大值,然后计算答案时强制i后面的数字全部是m-1,算贡献.<br>
看起来n是7000,复杂度很大,实际上跑到大约1400左右就出最大值了,如果你看到数字几乎不变了,不妨交一发.</p>
<p>有人说这是个卷积形式,不妨使用FFT优化到 $O(n^2\log n)$ .</p>
<h2 id="0885">0885</h2>
<p>所有1e18以内的数字按照数字大小排序去掉前导零后加一起,取模.</p>
<p>刚开始以为是一个数位dp题,一直不敢做.<br>
但是&quot;排序&quot;的性质保证数位dp不好合并,因为要保证之前的数字都大于或小于新枚举的数字.<br>
但是这启示我们对数位dfs,只要递增枚举就可以.<br>
先简单dp一下,发现1e18的时候递增的数字只有不到4e6个,于是直接dfs枚举所有递增数字算贡献.<br>
一个数字在指定最长长度的贡献是<br>
$$\binom{lim}{lim-sum}\binom{sum}{a_1}\binom{sum-a_1}{a_2}…\binom{a_9}{a_9}$$<br>
意思就是在指定长度内所有数字随便枚举,反正最后前导零被去掉.然后乘上dfs的数字,取个模就结束了.</p>
<h2 id="0899">0899</h2>
<p>经过打表发现答案是这么一个函数:<br>
$$\sum_{i=1}^n(2(\mathrm{lowbit}(i+1)-1)-[\mathrm{lowbit}(i+1)=i+1])$$<br>
化简发现lowbit可以用值域内除2的base解决,剩下的就很简单了.</p>
<p>lowbit前缀和计算:当前进制下为0的减掉下一个base也为0的(容斥一下).</p>
<h2 id="0926">0926</h2>
<p>Flu不知道这个题干该怎么抽象,所以请大家读一下原题面…<br>
首先对阶乘分解质因数,落到1e7内的所有质数上.<br>
然后对于一个阶,发现是对所有质数取min(就是说,假如质数为2和5,次方分别为2和1,在取20的时候,0会取各个质数的min,也就是得到min(2,1)=1)<br>
这启示我们用容斥定理,对每个min的结果,显然是小于2的次方数(实测1e7!中2的次方大概就是1e7),枚举min.<br>
对于min,卡出来每个次方的下界(不能低于这个),可以不派出这个因子.但是派出就不能低于枚举的min,最后减掉2的次方数(都不派出),得到 $O(\frac{n}{\log n}\log((10^7)!))$ 大概是1e12的数量级,核心代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=po[<span class="number">1</span>];++i)&#123;</span><br><span class="line">	dp[i]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ptop;++j)&#123;</span><br><span class="line">		dp[i]=dp[i]*(<span class="number">1</span>+po[j]/i)%mod;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是我们发现这个 <code>po[j]/i</code> 是可以分块的,所以对每个质数考虑合并贡献,用区间乘线段树维护,复杂度 $O(\frac n{\log n}\sqrt n\log n)=O(n^{3/2})$ (前边是质数个数,中间是数论分块,后面是线段树操作的复杂度),笔者跑了2s多过了.</p>
<p>这个题的thread非常有意思,有 $O(n^{3/4})$ 的,有 $O(n\log\log n)$ 的…</p>
<h1>隐藏题目(Bonus)</h1>
<p>隐藏题目目前只有五道(20250210),是做题的时候掉落的,不清楚是不是固定掉落.</p>
<h2 id="problem-1">problem -1</h2>
<p>If we list all the natural numbers below $10$ that are multiples of $3$ or $5$ , we get $3,5,6$ and $9$ . The sum of these multiples is $23$ .<br>
如果我们列出 $10$ 以内 $3$ 或 $5$ 的所有自然数倍数,能得到 $3,5,6$ 和 $9$ ,他们的和是 $23$ .</p>
<p>Find the sum of all the multiples of $3$ or $5$ below infinity.<br>
找到小于正无穷的所有 $3$ 或 $5$ 的自然数倍数和.</p>
<h3 id="题解-spoiler">题解(spoiler)</h3>
<p>有一个结论:自然数的和是-1/12,我不会证,网上查到的.然后容斥一下就行了,答案很好算,这里不公布.<br>
$$\sum_{i=1}^\infty i=-\frac1{12}$$<br>
证明(启发式,一句话就是仙,注意力惊人):设<br>
$$S=1+2+3+…,T=1-2+3-4+…$$<br>
根据下面的生成函数<br>
$$\frac1{(1+x)^2}=1-2x+3x^2-4x^3+…$$<br>
然后带入 $x=1$ 得到 $T=\frac14$ ,然后有<br>
$$T=(1+2+3+…)-2\times(2+4+6+…)=-3S$$<br>
QED.</p>
<h2 id="problem-18i">problem 18i</h2>
<p>Let $R(p)$ be the remainder when the <strong>product</strong> $\prod_{x=0}^{p-1}(x^3-3x+4)$ is divided by $p$ . For example, $R(11)=0$ and $R(29)=13$ .<br>
设 $R(p)=\prod_{x=0}^{p-1}(x^3-3x+4)\mod p$ ,比如 $R(11)=0,R(29)=13$ .</p>
<p>Find the sum of $R(p)$ over all primes $p$ between $10^{9}$ and $1.1\times10^9$ .<br>
求<br>
$$\sum_{i=10^9}^{1.1\times10^9}R(i),i\in prime$$</p>
<h3 id="题解-spoiler-2">题解(spoiler)</h3>
<p>Wrong Answers</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure>
<p>I don’t know(noob).<br>
不会(菜).</p>
<h2 id="problem-Heegner">problem Heegner</h2>
<p>Among all non-square integers $n$ with absolute value not exceeding $10^3$ , find the value of $n$ such that $\cos(\pi\sqrt n)$ is closest to an integer.<br>
在绝对值不超过 $10^3$ 的所有非平方数整数中,找到让 $\cos(\pi\sqrt n)$ 最接近整数的数.</p>
<h3 id="题解-spoiler-3">题解(spoiler)</h3>
<p>查阅资料:<br>
$$e^{ix}=\cos x+i\sin x$$<br>
$$\cos z=\frac{e^{iz}+e^{-iz}}2$$<br>
$$\sin z=\frac{e^{iz}-e^{-iz}}{2i}$$<br>
直接带式子算就行了…<br>
然后被炸 <code>long double</code> 精度,发现事情没有这么简单…<br>
最后用python的mpmath库过去了,负数去exp大小能有e42这么大,普通python也会炸精度,难绷.</p>
<p>事实上查阅维基百科得知&quot;黑格尔数&quot;,页面有一个马尔努金常数,说e的多少次方pi非常接近整数,直接盒出来了,根本不用算(但是这个题确实让Flu学会了使用py的高精度库和类的书写)</p>
<h2 id="problem-root13">problem root13</h2>
<p>The decimal expansion of the square root of two is $1.\underline{4142135623}730…$ .<br>
根号二的无限循环展开是 $1.\underline{4142135623}730…$ .</p>
<p>If we define $S(n,d)$ to be the the sum of the first $d$ digits in the fractional part of the decimal expansion of $\sqrt n$ , it can be seen that $S(2,10)=4+1+4+…+3=31$ .It can be confirmed that $S(2,100)=481$ .<br>
如果我们定义 $S(n,d)$ 代表 $\sqrt n$ 的前 $d$ 位展开的各位数字和,可以得到 $S(2,10)=4+1+4+…+3=31$ .同理 $S(2,100)=481$ .</p>
<p>Find $S(13,1000)$ .<br>
计算出 $S(13,1000)$ .</p>
<p>Note: Instead of just using arbitrary precision floats, try to be creative with your method.<br>
注意:除了直接用高精度库函数之外,请发挥创造力用自己的办法算出来.</p>
<h3 id="题解-spoiler-4">题解(spoiler)</h3>
<p>最简单的一集.方法超级多.</p>
<ol>
<li>使用Python的decimal库(前人留库,后人乘凉,不要重复造轮子).</li>
<li>模拟高精度,把13扩大好多好多倍然后手工模拟计算.</li>
<li>牛顿迭代(求导算切线)</li>
<li>泰勒展开(能手算的那种)</li>
<li>网上的手开根号大法(就是那个乘20啥啥的那个方法)</li>
</ol>
<p>总之这个题非常简单,真就白给,拿到题先出的题解再出的代码.</p>
<h2 id="problem-secret">problem secret</h2>
<p>Find the secret word by the following instructions below.<br>
根据下面的指示找到秘密单词.</p>
<p>The statement of this problem is contained in an image.<br>
这个题目将会在一张图像中进行.<br>
Starting with this image, at each step, simultaneously repleace each pixel with the sum of its four neighbours in orthogoanal dirctions.<br>
在图上开始,每次同时用与该单元格相邻的四个格子的字母总和替换该单元格的元素.<br>
Note that, although the original pixels are represented by 8-bit integers, in later steps they can be arbitrarily large without any<br>
integer overflow.<br>
注意,虽然每一个字母使用char的8位表示,在计算中他们被认为可以任意大的,不会有溢出.</p>
<p>The edges of the image are considered “glued” in such a way that pixels on the top edge are neighbours to those on the bottom<br>
edge; and similarly for left and right edges.<br>
注意:该图被认为是拼接起来的,也就是说下边和上边相邻,左边和右边相邻.<br>
As illustration, in the following diagram, where each square represents a pixel, the pixel marked with “A” has neighbours “B” to “E”; and the pixel marked with “a” has neighbours “b” to “e”.<br>
如下图,字符 <code>A</code> 的四个相邻格是 <code>BCDE</code> ,字符 <code>a</code> 的四个相邻格子是 <code>bcde</code></p>
<table>
<thead>
<tr>
<th>x</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>d</td>
</tr>
<tr>
<td>2</td>
<td>B</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>A</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>C</td>
</tr>
<tr>
<td>4</td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>b</td>
</tr>
<tr>
<td>6</td>
<td>e</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>c</td>
<td>a</td>
</tr>
</tbody>
</table>
<p>After $10^{12}$ steps, the secret word will be revealed by taking each pixel modulo $7$ .<br>
在 $10^{12}$ 步后,通过将每个单元格模 $7$ 来揭示秘密单词.</p>
<h3 id="题解-spoiler-5">题解(spoiler)</h3>
<p>I don’t know(noob).<br>
不会(菜).</p>

  </div>
</article>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/tags/">标签</a></li>
        
          <li><a href="/categories/">分类</a></li>
        
          <li><a href="/search/">搜索</a></li>
        
          <li><a href="/friends/">友链</a></li>
        
          <li><a href="/QSL/">QSL</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%BF%E5%AD%90"><span class="toc-number">1.</span> <span class="toc-text">板子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E6%98%93%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90-%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92-Project-Euler"><span class="toc-number">1.1.</span> <span class="toc-text">简易文件解析(欧拉计划 Project Euler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E4%B9%89%E4%BA%94%E8%BE%B9%E5%BD%A2%E6%95%B0-%E8%B4%9F%E6%95%B0%E4%B9%9F%E4%BC%9A%E5%8F%96%E5%88%B0"><span class="toc-number">1.2.</span> <span class="toc-text">广义五边形数(负数也会取到)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0050"><span class="toc-number">2.</span> <span class="toc-text">0050</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0061"><span class="toc-number">3.</span> <span class="toc-text">0061</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0066"><span class="toc-number">4.</span> <span class="toc-text">0066</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0078"><span class="toc-number">5.</span> <span class="toc-text">0078</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0084"><span class="toc-number">6.</span> <span class="toc-text">0084</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0088"><span class="toc-number">7.</span> <span class="toc-text">0088</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0093"><span class="toc-number">8.</span> <span class="toc-text">0093</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0094"><span class="toc-number">9.</span> <span class="toc-text">0094</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0103"><span class="toc-number">10.</span> <span class="toc-text">0103</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0106"><span class="toc-number">11.</span> <span class="toc-text">0106</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0110"><span class="toc-number">12.</span> <span class="toc-text">0110</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0118"><span class="toc-number">13.</span> <span class="toc-text">0118</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0119"><span class="toc-number">14.</span> <span class="toc-text">0119</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0122"><span class="toc-number">15.</span> <span class="toc-text">0122</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0126"><span class="toc-number">16.</span> <span class="toc-text">0126</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0127"><span class="toc-number">17.</span> <span class="toc-text">0127</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0129"><span class="toc-number">18.</span> <span class="toc-text">0129</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0131"><span class="toc-number">19.</span> <span class="toc-text">0131</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0267"><span class="toc-number">20.</span> <span class="toc-text">0267</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0277"><span class="toc-number">21.</span> <span class="toc-text">0277</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0303"><span class="toc-number">22.</span> <span class="toc-text">0303</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0313"><span class="toc-number">23.</span> <span class="toc-text">0313</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0317"><span class="toc-number">24.</span> <span class="toc-text">0317</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0323"><span class="toc-number">25.</span> <span class="toc-text">0323</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0336"><span class="toc-number">26.</span> <span class="toc-text">0336</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0340"><span class="toc-number">27.</span> <span class="toc-text">0340</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0345"><span class="toc-number">28.</span> <span class="toc-text">0345</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0358"><span class="toc-number">29.</span> <span class="toc-text">0358</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0425"><span class="toc-number">30.</span> <span class="toc-text">0425</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0429"><span class="toc-number">31.</span> <span class="toc-text">0429</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0443"><span class="toc-number">32.</span> <span class="toc-text">0443</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0491"><span class="toc-number">33.</span> <span class="toc-text">0491</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0493"><span class="toc-number">34.</span> <span class="toc-text">0493</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0500"><span class="toc-number">35.</span> <span class="toc-text">0500</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0510"><span class="toc-number">36.</span> <span class="toc-text">0510</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0516"><span class="toc-number">37.</span> <span class="toc-text">0516</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0518"><span class="toc-number">38.</span> <span class="toc-text">0518</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0555"><span class="toc-number">39.</span> <span class="toc-text">0555</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0577"><span class="toc-number">40.</span> <span class="toc-text">0577</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0581"><span class="toc-number">41.</span> <span class="toc-text">0581</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0601"><span class="toc-number">42.</span> <span class="toc-text">0601</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0609"><span class="toc-number">43.</span> <span class="toc-text">0609</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0607"><span class="toc-number">44.</span> <span class="toc-text">0607</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0613"><span class="toc-number">45.</span> <span class="toc-text">0613</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0622"><span class="toc-number">46.</span> <span class="toc-text">0622</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0630"><span class="toc-number">47.</span> <span class="toc-text">0630</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0679"><span class="toc-number">48.</span> <span class="toc-text">0679</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0684"><span class="toc-number">49.</span> <span class="toc-text">0684</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0692"><span class="toc-number">50.</span> <span class="toc-text">0692</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0694"><span class="toc-number">51.</span> <span class="toc-text">0694</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0700"><span class="toc-number">52.</span> <span class="toc-text">0700</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0709"><span class="toc-number">53.</span> <span class="toc-text">0709</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0725"><span class="toc-number">54.</span> <span class="toc-text">0725</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0731"><span class="toc-number">55.</span> <span class="toc-text">0731</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0749"><span class="toc-number">56.</span> <span class="toc-text">0749</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0754"><span class="toc-number">57.</span> <span class="toc-text">0754</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0755"><span class="toc-number">58.</span> <span class="toc-text">0755</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0757"><span class="toc-number">59.</span> <span class="toc-text">0757</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0772"><span class="toc-number">60.</span> <span class="toc-text">0772</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0793"><span class="toc-number">61.</span> <span class="toc-text">0793</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0816"><span class="toc-number">62.</span> <span class="toc-text">0816</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0820"><span class="toc-number">63.</span> <span class="toc-text">0820</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0822"><span class="toc-number">64.</span> <span class="toc-text">0822</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0828"><span class="toc-number">65.</span> <span class="toc-text">0828</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0836"><span class="toc-number">66.</span> <span class="toc-text">0836</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0853"><span class="toc-number">67.</span> <span class="toc-text">0853</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0862"><span class="toc-number">68.</span> <span class="toc-text">0862</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0869"><span class="toc-number">69.</span> <span class="toc-text">0869</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0874"><span class="toc-number">70.</span> <span class="toc-text">0874</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0885"><span class="toc-number">71.</span> <span class="toc-text">0885</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0899"><span class="toc-number">72.</span> <span class="toc-text">0899</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0926"><span class="toc-number">73.</span> <span class="toc-text">0926</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text">隐藏题目(Bonus)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-1"><span class="toc-number">1.</span> <span class="toc-text">problem -1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler"><span class="toc-number">1.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-18i"><span class="toc-number">2.</span> <span class="toc-text">problem 18i</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-2"><span class="toc-number">2.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-Heegner"><span class="toc-number">3.</span> <span class="toc-text">problem Heegner</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-3"><span class="toc-number">3.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-root13"><span class="toc-number">4.</span> <span class="toc-text">problem root13</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-4"><span class="toc-number">4.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-secret"><span class="toc-number">5.</span> <span class="toc-text">problem secret</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3-spoiler-5"><span class="toc-number">5.1.</span> <span class="toc-text">题解(spoiler)</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&text=欧拉计划"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&is_video=false&description=欧拉计划"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=欧拉计划&body=Check out this article: https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&title=欧拉计划"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&name=欧拉计划&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://narafluorine.github.io/2024/11/11/20007_%E6%AC%A7%E6%8B%89%E8%AE%A1%E5%88%92/&t=欧拉计划"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024-2025
    Fluorine Wengers
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     --><!--
       --><li><a href="/friends/">友链</a></li><!--
     --><!--
       --><li><a href="/QSL/">QSL</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
